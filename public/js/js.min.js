(function(a,b){var c=0;a.fn.getPercentage=function(){var a=this.attr("style").match(/margin\-left:(.*[0-9])/i)&&parseInt(RegExp.$1);return a},a.fn.adjRounding=function(b){var c=a(this),d=c.find(b),e=c.parent().width()-a(d[0]).width();if(0!==e){a(d).css("position","relative");for(var f=0;d.length>f;f++)a(d[f]).css("left",e*f+"px")}return this},a.fn.carousel=function(d){if(!this.data("carousel-initialized")){this.data("carousel-initialized",!0);var e={slider:".slider",slide:".slide",prevSlide:null,nextSlide:null,slideHed:null,addPagination:!1,addNav:d!=b&&(d.prevSlide||d.nextSlide)?!1:!0,namespace:"carousel",speed:300},f=a.extend(e,d),g=this,h=(document.body||document.documentElement,function(){var a="transitionProperty",c=document.createElement("tester"),d=c.style,e=(" -webkit- -moz- -o- -ms- -khtml- ".split(" "),"Webkit Moz O ms Khtml".split(" ")),f=a.charAt(0).toUpperCase()+a.substr(1),g=(a+" "+e.join(f+" ")+f).split(" ");for(var h in g)if(d[g[h]]!==b)return!0;return!1}),i={init:function(){c++,g.each(function(b){var d=a(this),e=d.find(f.slider),g=d.find(f.slide),h=g.length,j="margin-left "+f.speed/1e3+"s ease",k="carousel-"+c+"-"+b;1>=g.length||(d.css({overflow:"hidden",width:"100.2%"}).attr("role","application"),e.attr("id",e[0].id||"carousel-"+c+"-"+b).css({marginLeft:"0px","float":"left",width:100*h+"%","-webkit-transition":j,"-moz-transition":j,"-ms-transition":j,"-o-transition":j,transition:j}).bind("carouselmove",i.move).bind("nextprev",i.nextPrev).bind("navstate",i.navState),g.css({"float":"left",width:100/h+"%"}).each(function(b){var c=a(this);c.attr({role:"tabpanel document",id:k+"-slide"+b}),f.addPagination&&c.attr("aria-labelledby",k+"-tab"+b)}),f.addPagination&&i.addPagination(),f.addNav&&i.addNav(),e.trigger("navstate",{current:0}))})},addNav:function(){g.each(function(){var b=a(this),c=b.find(f.slider),d=c[0].id,e=['<ul class="slidecontrols" role="navigation">','	<li role="presentation"><a href="#'+d+'" class="'+f.namespace+'-next">Next</a></li>','	<li role="presentation"><a href="#'+d+'" class="'+f.namespace+'-prev">Prev</a></li>',"</ul>"].join(""),g={nextSlide:"."+f.namespace+"-next",prevSlide:"."+f.namespace+"-prev"};f=a.extend(f,g),b.prepend(e)})},addPagination:function(){g.each(function(b){var d=a(this),e=a('<ol class="'+f.namespace+'-tabs" role="tablist navigation" />'),g=(d.find(f.slider),d.find(f.slide));for(slideNum=g.length,associated="carousel-"+c+"-"+b;slideNum--;){var h=a(g[slideNum]).find(f.slideHed).text()||"Page "+(slideNum+1),i=['<li role="presentation">','<a href="#'+associated+"-slide"+slideNum+'"',' aria-controls="'+associated+"-slide"+slideNum+'"',' id="'+associated+"-tab"+slideNum+'" role="tab">'+h+"</a>","</li>"].join("");e.prepend(i)}e.appendTo(d).find("li").keydown(function(b){var c=a(this),d=c.prev().find("a"),e=c.next().find("a");switch(b.which){case 37:case 38:d.length&&d.trigger("click").focus(),b.preventDefault();break;case 39:case 40:e.length&&e.trigger("click").focus(),b.preventDefault()}}).find("a").click(function(b){var c=a(this);if("false"==c.attr("aria-selected")){var e=c.parent().index(),g=-(100*e),h=d.find(f.slider);h.trigger("carouselmove",{moveTo:g})}b.preventDefault()})})},roundDown:function(a){var b=parseInt(a,10);return 100*Math.ceil((b-b%100)/100)},navState:function(b,c){var d=a(this),e=d.find(f.slide),g=-(c.current/100),h=a(e[g]);if(d.attr("aria-activedescendant",h[0].id),h.addClass(f.namespace+"-active-slide").attr("aria-hidden",!1).siblings().removeClass(f.namespace+"-active-slide").attr("aria-hidden",!0),f.prevSlide||f.nextSlide){var i=a('[href*="#'+this.id+'"]');i.removeClass(f.namespace+"-disabled"),0==g?i.filter(f.prevSlide).addClass(f.namespace+"-disabled"):g==e.length-1&&i.filter(f.nextSlide).addClass(f.namespace+"-disabled")}if(f.addPagination){var j=h.attr("aria-labelledby"),k=a("#"+j);k.parent().addClass(f.namespace+"-active-tab").siblings().removeClass(f.namespace+"-active-tab").find("a").attr({"aria-selected":!1,tabindex:-1}),k.attr({"aria-selected":!0,tabindex:0})}},move:function(b,c){var d=a(this);d.trigger(f.namespace+"-beforemove").trigger("navstate",{current:c.moveTo}),h()?d.adjRounding(f.slide).css("marginLeft",c.moveTo+"%").one("transitionend webkitTransitionEnd OTransitionEnd",function(){a(this).trigger(f.namespace+"-aftermove")}):d.adjRounding(f.slide).animate({marginLeft:c.moveTo+"%"},{duration:f.speed,queue:!1},function(){a(this).trigger(f.namespace+"-aftermove")})},nextPrev:function(b,c){var d=a(this),e=d?d.getPercentage():0,g=d.find(f.slide),h="prev"===c.dir?0!=e:100*(g.length-1)>-e,j=a('[href="#'+this.id+'"]');if(!d.is(":animated")&&h)switch(e="prev"===c.dir?0!=e%100?i.roundDown(e):e+100:0!=e%100?i.roundDown(e)-100:e-100,d.trigger("carouselmove",{moveTo:e}),j.removeClass(f.namespace+"-disabled").removeAttr("aria-disabled"),e){case 100*-(g.length-1):j.filter(f.nextSlide).addClass(f.namespace+"-disabled").attr("aria-disabled",!0);break;case 0:j.filter(f.prevSlide).addClass(f.namespace+"-disabled").attr("aria-disabled",!0)}else{var k=i.roundDown(e);d.trigger("carouselmove",{moveTo:k})}}};i.init(this),a(f.nextSlide+","+f.prevSlide).bind("click",function(c){var d=a(this),e=this.hash,g=d.is(f.prevSlide)?"prev":"next",h=a(e);return d.is("."+f.namespace+"-disabled")?!1:(h.trigger("nextprev",{dir:g}),c.preventDefault(),b)}).bind("keydown",function(b){var c=(a(this),this.hash);switch(b.which){case 37:case 38:a("#"+c).trigger("nextprev",{dir:"next"}),b.preventDefault();break;case 39:case 40:a("#"+c).trigger("nextprev",{dir:"prev"}),b.preventDefault()}});var j={wrap:this,slider:f.slider};return g.bind("dragSnap",j,function(b,c){var d=a(this).find(f.slider),e="left"===c.direction?"next":"prev";d.trigger("nextprev",{dir:e})}),g.filter("[data-autorotate]").each(function(){var b,c=a(this),d=c.attr("data-autorotate"),e=c.find(f.slider),g=c.find(f.slide).length,h=!0,i=function(){var a=-(e.getPercentage()/100)+1;switch(a){case g:h=!1;break;case 1:h=!0}e.trigger("nextprev",{dir:h?"next":"prev"})};b=setInterval(i,d),c.attr("aria-live","polite").bind("mouseenter click touchstart",function(){clearInterval(b)})}),this}}})(jQuery),$.event.special.dragSnap={setup:function(a){var b=$(this),c=function(a,b){var c=.3,d=b?"margin-left "+c+"s ease":"none";a.css({"-webkit-transition":d,"-moz-transition":d,"-ms-transition":d,"-o-transition":d,transition:d})},d=function(a){var a=parseInt(a,10);return 100*Math.ceil((a-a%100)/100)},e=function(a,b){var e=b.target,f=void 0!=e.attr("style")?e.getPercentage():0,g=b.left===!1?d(f)-100:d(f),h=(document.body.style,function(){var a="transitionProperty",b=document.createElement("tester"),c=b.style,d=(" -webkit- -moz- -o- -ms- -khtml- ".split(" "),"Webkit Moz O ms Khtml".split(" ")),e=a.charAt(0).toUpperCase()+a.substr(1),f=(a+" "+d.join(e+" ")+e).split(" ");for(var g in f)if(void 0!==c[f[g]])return!0;return!1});c(e,!0),h()?e.css("marginLeft",g+"%"):e.animate({marginLeft:g+"%"},opt.speed)};b.bind("snapback",e).bind("touchstart",function(d){function e(a){var b=a.originalEvent.touches?a.originalEvent.touches[0]:a;f={time:(new Date).getTime(),coords:[b.pageX,b.pageY]},!h||Math.abs(h.coords[0]-f.coords[0])<Math.abs(h.coords[1]-f.coords[1])||(i.css({"margin-left":j+100*((f.coords[0]-h.coords[0])/h.origin.width())+"%"}),Math.abs(h.coords[0]-f.coords[0])>10&&a.preventDefault())}var f,g=d.originalEvent.touches?d.originalEvent.touches[0]:d,h={time:(new Date).getTime(),coords:[g.pageX,g.pageY],origin:$(d.target).closest(a.wrap)},i=$(d.target).closest(a.slider),j=void 0!=i.attr("style")?i.getPercentage():0;c(i,!1),b.bind("gesturestart",function(){b.unbind("touchmove",e).unbind("touchend",e)}).bind("touchmove",e).one("touchend",function(a){if(b.unbind("touchmove",e),c(i,!0),h&&f){if(!(Math.abs(h.coords[0]-f.coords[0])>10&&Math.abs(h.coords[0]-f.coords[0])>Math.abs(h.coords[1]-f.coords[1])))return b.trigger("snapback",{target:i,left:!0}),void 0;if(a.preventDefault(),Math.abs(h.coords[0]-f.coords[0])>1&&75>Math.abs(h.coords[1]-f.coords[1])){var d=h.coords[0]>f.coords[0];-(f.coords[0]-h.coords[0])>h.origin.width()/4||f.coords[0]-h.coords[0]>h.origin.width()/4?h.origin.trigger("dragSnap",{direction:d?"left":"right"}):b.trigger("snapback",{target:i,left:d})}}h=f=void 0})})}};var ddsmoothmenu={arrowimages:{down:["downarrowclass","",0],right:["rightarrowclass","images/icons/right.png"]},transition:{overtime:300,outtime:300},shadow:{enable:!1,offsetx:5,offsety:5},showhidedelay:{showdelay:200,hidedelay:200},detectwebkit:-1!=navigator.userAgent.toLowerCase().indexOf("applewebkit"),detectie6:document.all&&!window.XMLHttpRequest,css3support:window.msPerformance||!document.all&&document.querySelector,ismobile:null!=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i),getajaxmenu:function(a,b){var c=a("#"+b.contentsource[0]);c.html("Loading Menu..."),a.ajax({url:b.contentsource[1],async:!0,error:function(a){c.html("Error fetching content. Server Response: "+a.responseText)},success:function(d){c.html(d),ddsmoothmenu.buildmenu(a,b)}})},buildmenu:function(a,b){var c=ddsmoothmenu,d=a("#"+b.mainmenuid+">ul");d.parent().get(0).className=b.classname||"ddsmoothmenu";var e=d.find("ul").parent();if(e.hover(function(){a(this).children("a:eq(0)").addClass("noborder selected")},function(){a(this).children("a:eq(0)").removeClass("noborder selected")}),e.each(function(d){var e=a(this).css({zIndex:100-d}),f=a(this).find("ul:eq(0)").css({display:"block"});if(f.data("timers",{}),this._dimensions={w:this.offsetWidth,h:this.offsetHeight,subulw:f.outerWidth(),subulh:f.outerHeight()},this.istopheader=1==e.parents("ul").length?!0:!1,f.css({top:this.istopheader&&"v"!=b.orientation?this._dimensions.h+"px":0}),e.children("a:eq(0)").css(this.istopheader?{}:{}).append('<img src="'+(this.istopheader&&"v"!=b.orientation?c.arrowimages.down[1]:c.arrowimages.right[1])+'" class="'+(this.istopheader&&"v"!=b.orientation?c.arrowimages.down[0]:c.arrowimages.right[0])+'" style="border:0;" />'),c.shadow.enable&&!c.css3support){if(this._shadowoffset={x:this.istopheader?f.offset().left+c.shadow.offsetx:this._dimensions.w,y:this.istopheader?f.offset().top+c.shadow.offsety:e.position().top},this.istopheader)$parentshadow=a(document.body);else{var g=e.parents("li:eq(0)");$parentshadow=g.get(0).$shadow}this.$shadow=a('<div class="ddshadow'+(this.istopheader?" toplevelshadow":"")+'"></div>').prependTo($parentshadow).css({left:this._shadowoffset.x+"px",top:this._shadowoffset.y+"px"})}e.hover(function(){var d=f,g=e.get(0);clearTimeout(d.data("timers").hidetimer),d.data("timers").showtimer=setTimeout(function(){g._offsets={left:e.offset().left,top:e.offset().top};var f=g.istopheader&&"v"!=b.orientation?0:g._dimensions.w;if(f=g._offsets.left+f+g._dimensions.subulw>a(window).width()?g.istopheader&&"v"!=b.orientation?-g._dimensions.subulw+g._dimensions.w:-g._dimensions.w:f,1>=d.queue().length&&(d.css({left:f+"px",width:g._dimensions.subulw+"px"}).animate({height:"show",opacity:"show"},ddsmoothmenu.transition.overtime),c.shadow.enable&&!c.css3support)){var h=g.istopheader?d.offset().left+ddsmoothmenu.shadow.offsetx:f,i=g.istopheader?d.offset().top+c.shadow.offsety:g._shadowoffset.y;!g.istopheader&&ddsmoothmenu.detectwebkit&&g.$shadow.css({opacity:1}),g.$shadow.css({overflow:"",width:g._dimensions.subulw+"px",left:h+"px",top:i+"px"}).animate({height:g._dimensions.subulh+"px"},ddsmoothmenu.transition.overtime)}},ddsmoothmenu.showhidedelay.showdelay)},function(){var a=f,b=e.get(0);clearTimeout(a.data("timers").showtimer),a.data("timers").hidetimer=setTimeout(function(){a.animate({height:"hide",opacity:"hide"},ddsmoothmenu.transition.outtime),c.shadow.enable&&!c.css3support&&(ddsmoothmenu.detectwebkit&&b.$shadow.children("div:eq(0)").css({opacity:0}),b.$shadow.css({overflow:"hidden"}).animate({height:0},ddsmoothmenu.transition.outtime))},ddsmoothmenu.showhidedelay.hidedelay)})}),c.shadow.enable&&c.css3support)for(var f=a("#"+b.mainmenuid+" ul li ul"),g=parseInt(c.shadow.offsetx)+"px "+parseInt(c.shadow.offsety)+"px 5px #aaa",h=["boxShadow","MozBoxShadow","WebkitBoxShadow","MsBoxShadow"],i=0;h.length>i;i++)f.css(h[i],g);d.find("ul").css({display:"none",visibility:"visible"})},init:function(a){if("object"==typeof a.customtheme&&2==a.customtheme.length){var b="#"+a.mainmenuid,c="v"==a.orientation?b:b+", "+b;document.write('<style type="text/css">\n'+c+" ul li a {background:"+a.customtheme[0]+";}\n"+b+" ul li a:hover {background:"+a.customtheme[1]+";}\n"+"</style>")}this.shadow.enable=document.all&&!window.XMLHttpRequest?!1:this.shadow.enable,jQuery(document).ready(function(b){"object"==typeof a.contentsource?ddsmoothmenu.getajaxmenu(b,a):ddsmoothmenu.buildmenu(b,a)})}};(function(a,b,c){function d(a){return a}function e(a){return decodeURIComponent(a.replace(f," "))}var f=/\+/g,g=a.cookie=function(f,h,i){if(h!==c){if(i=a.extend({},g.defaults,i),null===h&&(i.expires=-1),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setDate(k.getDate()+j)}return h=g.json?JSON.stringify(h):h+"",b.cookie=[encodeURIComponent(f),"=",g.raw?h:encodeURIComponent(h),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l,m=g.raw?d:e,n=b.cookie.split("; "),o=0;l=n[o]&&n[o].split("=");o++)if(m(l.shift())===f){var p=m(l.join("="));return g.json?JSON.parse(p):p}return null};g.defaults={},a.removeCookie=function(b,c){return null!==a.cookie(b)?(a.cookie(b,null,c),!0):!1}})(jQuery,document),window.selectnav=function(){"use strict";var a=function(a,b){function c(a){var b;a||(a=window.event),a.target?b=a.target:a.srcElement&&(b=a.srcElement),3===b.nodeType&&(b=b.parentNode),b.value&&(window.location.href=b.value)}function d(a){var b=a.nodeName.toLowerCase();return"ul"===b||"ol"===b}function e(a){for(var b=1;document.getElementById("selectnav"+b);b++);return a?"selectnav"+b:"selectnav"+(b-1)}function f(a){m++;var b=a.children.length,c="",g="",o=m-1;if(b){if(o){for(;o--;)g+=k;g+=" "}for(var p=0;b>p;p++){var q=a.children[p].children[0],r=q.innerText||q.textContent,s="";if(h&&(s=-1!==q.className.search(h)||-1!==q.parentElement.className.search(h)?n:""),i&&!s&&(s=q.href===document.URL?n:""),c+='<option value="'+q.href+'" '+s+">"+g+r+"</option>",j){var t=a.children[p].children[1];t&&d(t)&&(c+=f(t))}}return 1===m&&l&&(c='<option value="">'+l+"</option>"+c),1===m&&(c='<select class="selectnav" id="'+e(!0)+'">'+c+"</select>"),m--,c}}if(a=document.getElementById(a),a&&d(a)){document.documentElement.className+=" js";var g=b||{},h=g.activeclass||"active",i="boolean"==typeof g.autoselect?g.autoselect:!0,j="boolean"==typeof g.nested?g.nested:!0,k=g.indent||"\u2192",l=g.label||"- Navigation -",m=0,n=" selected ";a.insertAdjacentHTML("afterend",f(a));var o=document.getElementById(e());return o.addEventListener&&o.addEventListener("change",c),o.attachEvent&&o.attachEvent("onchange",c),o}};return function(b,c){a(b,c)}}(),function(a){a.fn.UItoTop=function(b){var c={text:"To Top",min:200,inDelay:600,outDelay:400,containerID:"toTop",containerHoverID:"toTopHover",scrollSpeed:1200,easingType:"linear"},d=a.extend(c,b),e="#"+d.containerID,f="#"+d.containerHoverID;a("body").append('<a href="#" id="'+d.containerID+'">'+d.text+"</a>"),a(e).hide().click(function(){return a("html, body").animate({scrollTop:0},d.scrollSpeed,d.easingType),a("#"+d.containerHoverID,this).stop().animate({opacity:0},d.inDelay,d.easingType),!1}).prepend('<span id="'+d.containerHoverID+'"></span>').hover(function(){a(f,this).stop().animate({opacity:1},600,"linear")},function(){a(f,this).stop().animate({opacity:0},700,"linear")}),a(window).scroll(function(){var b=a(window).scrollTop();void 0===document.body.style.maxHeight&&a(e).css({position:"absolute",top:a(window).scrollTop()+a(window).height()-50}),b>d.min?a(e).fadeIn(d.inDelay):a(e).fadeOut(d.Outdelay)})}}(jQuery),function(a){function b(a,b){b=b?b:window.location.search;var c=RegExp("&"+a+"=([^&]*)","i");return b=(b=b.replace(/^\?/,"&").match(c))?b[1]:""}a.fn.tytabs=function(c){var d={prefixtabs:"tab",prefixcontent:"content",classcontent:"tabscontent",tabinit:"1",catchget:"tab",fadespeed:"normal"},e=a.extend({},d,c);return this.each(function(){function c(b){a(e.classcontent,f).stop(!0,!0);var c=a(e.classcontent+":visible",f);c.length>0?c.fadeOut(e.fadespeed,function(){d(b)}):d(b),a("#"+e.prefixtabs+e.tabinit).removeAttr("class"),a("#"+e.prefixtabs+b).attr("class","current"),e.tabinit=b}function d(b){a(e.prefixcontent+b,f).fadeIn(e.fadespeed)}var f=a(this);e.classcontent="."+e.classcontent,e.prefixcontent="#"+e.prefixcontent,a("ul.tabs li",f).click(function(){return c(a(this).attr("id").replace(e.prefixtabs,"")),!1});var g=b(e.catchget);c(g&&1==a(e.prefixcontent+g).length?g:1==a(e.prefixcontent+e.tabinit).length?e.tabinit:"1")})}}(jQuery),function(a,b){var d,e=b.event;e.special.smartresize={setup:function(){b(this).bind("resize",e.special.smartresize.handler)},teardown:function(){b(this).unbind("resize",e.special.smartresize.handler)},handler:function(a,b){var c=this,e=arguments;a.type="smartresize",d&&clearTimeout(d),d=setTimeout(function(){jQuery.event.handle.apply(c,e)},"execAsap"===b?0:100)}},b.fn.smartresize=function(a){return a?this.bind("smartresize",a):this.trigger("smartresize",["execAsap"])},b.Slideshow=function(a,c){this.$el=b(c),this.$list=this.$el.find("ul.ei-slider-large"),this.$imgItems=this.$list.children("li"),this.itemsCount=this.$imgItems.length,this.$images=this.$imgItems.find("img:first"),this.$sliderthumbs=this.$el.find("ul.ei-slider-thumbs").hide(),this.$sliderElems=this.$sliderthumbs.children("li"),this.$sliderElem=this.$sliderthumbs.children("li.ei-slider-element"),this.$thumbs=this.$sliderElems.not(".ei-slider-element"),this._init(a)},b.Slideshow.defaults={animation:"sides",autoplay:!1,slideshow_interval:3e3,speed:800,easing:"",titlesFactor:.6,titlespeed:800,titleeasing:"",thumbMaxWidth:150},b.Slideshow.prototype={_init:function(a){this.options=b.extend(!0,{},b.Slideshow.defaults,a),this.$imgItems.css("opacity",0),this.$imgItems.find("div.ei-title > *").css("opacity",0),this.current=0;var c=this;this.$loading=b('<div class="ei-slider-loading">Loading</div>').prependTo(c.$el),b.when(this._preloadImages()).done(function(){c.$loading.hide(),c._setImagesSize(),c._initThumbs(),c.$imgItems.eq(c.current).css({opacity:1,"z-index":10}).show().find("div.ei-title > *").css("opacity",1),c.options.autoplay&&c._startSlideshow(),c._initEvents()})},_preloadImages:function(){var a=this,c=0;return b.Deferred(function(d){a.$images.each(function(){b("<img/>").load(function(){++c===a.itemsCount&&d.resolve()}).attr("src",b(this).attr("src"))})}).promise()},_setImagesSize:function(){this.elWidth=this.$el.width();var a=this;this.$images.each(function(){var c=b(this);imgDim=a._getImageDim(c.attr("src")),c.css({width:imgDim.width,height:imgDim.height,marginTop:imgDim.top})})},_getImageDim:function(a){var b=new Image;b.src=a;var c,d,e=this.elWidth,f=this.$el.height(),g=f/e,h=b.width,i=b.height,j=i/h;return g>j?(d=f,c=f/j):(d=e*j,c=e),{width:c,height:d,left:(e-c)/2,top:(f-d)/2}},_initThumbs:function(){this.$sliderElems.css({"max-width":this.options.thumbMaxWidth+"px",width:100/this.itemsCount+"%"}),this.$sliderthumbs.css("max-width",this.options.thumbMaxWidth*this.itemsCount+"px").show()},_startSlideshow:function(){var a=this;this.slideshow=setTimeout(function(){var b;b=a.current===a.itemsCount-1?0:a.current+1,a._slideTo(b),a.options.autoplay&&a._startSlideshow()},this.options.slideshow_interval)},_slideTo:function(a){if(a===this.current||this.isAnimating)return!1;this.isAnimating=!0;var c=this.$imgItems.eq(this.current),d=this.$imgItems.eq(a),e=this,f={zIndex:10},g={opacity:1};"sides"===this.options.animation&&(f.left=a>this.current?-1*this.elWidth:this.elWidth,g.left=0),d.find("div.ei-title > h2").css("margin-right","50px").stop().delay(this.options.speed*this.options.titlesFactor).animate({marginRight:"0px",opacity:1},this.options.titlespeed,this.options.titleeasing).end().find("div.ei-title > h3").css("margin-right","-50px").stop().delay(this.options.speed*this.options.titlesFactor).animate({marginRight:"0px",opacity:1},this.options.titlespeed,this.options.titleeasing),b.when(c.css("z-index",1).find("div.ei-title > *").stop().fadeOut(this.options.speed/2,function(){b(this).show().css("opacity",0)}),d.css(f).stop().animate(g,this.options.speed,this.options.easing),this.$sliderElem.stop().animate({left:this.$thumbs.eq(a).position().left},this.options.speed)).done(function(){c.css("opacity",0).find("div.ei-title > *").css("opacity",0),e.current=a,e.isAnimating=!1})},_initEvents:function(){var c=this;b(a).on("smartresize.eislideshow",function(){c._setImagesSize(),c.$sliderElem.css("left",c.$thumbs.eq(c.current).position().left)}),this.$thumbs.on("click.eislideshow",function(){c.options.autoplay&&(clearTimeout(c.slideshow),c.options.autoplay=!1);var a=b(this),d=a.index()-1;return c._slideTo(d),!1})}};var f=function(a){this.console&&console.error(a)};b.fn.eislideshow=function(a){if("string"==typeof a){var d=Array.prototype.slice.call(arguments,1);this.each(function(){var e=b.data(this,"eislideshow");return e?b.isFunction(e[a])&&"_"!==a.charAt(0)?(e[a].apply(e,d),c):(f("no such method '"+a+"' for eislideshow instance"),c):(f("cannot call methods on eislideshow prior to initialization; attempted to call method '"+a+"'"),c)})}else this.each(function(){var c=b.data(this,"eislideshow");c||b.data(this,"eislideshow",new b.Slideshow(a,this))});return this}}(window,jQuery),function(a){var b={init:function(b){if(this.length){var c={animMouseenter:{mText:{speed:350,easing:"easeOutExpo",delay:140,dir:1},sText:{speed:350,easing:"easeOutExpo",delay:0,dir:1},icon:{speed:350,easing:"easeOutExpo",delay:280,dir:1}},animMouseleave:{mText:{speed:300,easing:"easeInExpo",delay:140,dir:1},sText:{speed:300,easing:"easeInExpo",delay:280,dir:1},icon:{speed:300,easing:"easeInExpo",delay:0,dir:1}},boxAnimSpeed:300,defaultBgColor:"#fff"};return this.each(function(){b&&a.extend(c,b);var d,e=a(this),f=e.children("li"),g=Math.max(c.animMouseleave.mText.speed+c.animMouseleave.mText.delay,c.animMouseleave.sText.speed+c.animMouseleave.sText.delay,c.animMouseleave.icon.speed+c.animMouseleave.icon.delay);f.find(".sti-item").each(function(){var b=a(this);b.data("deftop",b.position().top)}),f.bind("mouseenter",function(){clearTimeout(d);var b=a(this),e=b.children("a"),f=e.height(),g=e.find(".sti-item"),h=b.data("hovercolor");d=setTimeout(function(){b.addClass("sti-current"),g.each(function(){var b=a(this),d=b.data("type"),e=c.animMouseenter[d].speed,g=c.animMouseenter[d].easing,i=c.animMouseenter[d].delay,j=c.animMouseenter[d].dir,k={top:-j*f+"px"};"icon"===d?k.backgroundPosition="bottom left":k.color=h,b.hide().css(k).show(),clearTimeout(b.data("time_anim")),b.data("time_anim",setTimeout(function(){b.stop(!0).animate({top:b.data("deftop")+"px"},e,g)},i))}),e.stop(!0).animate({backgroundColor:c.defaultTextColor},c.boxAnimSpeed)},100)}).bind("mouseleave",function(){clearTimeout(d);var b=a(this),e=b.children("a"),f=e.height(),h=e.find(".sti-item");return b.hasClass("sti-current")?(b.removeClass("sti-current"),h.each(function(){var b=a(this),d=b.data("type"),i=c.animMouseleave[d].speed,j=c.animMouseleave[d].easing,k=c.animMouseleave[d].delay,l=c.animMouseleave[d].dir;clearTimeout(b.data("time_anim")),setTimeout(function(){b.stop(!0).animate({top:-l*f+"px"},i,j,function(){k+i===g&&(e.stop(!0).animate({backgroundColor:c.defaultBgColor},c.boxAnimSpeed),h.each(function(){var b=a(this),d={top:b.data("deftop")+"px"};"icon"===b.data("type")?d.backgroundPosition="top left":d.color=c.defaultTextColor,b.hide().css(d).show()}))})},k)}),void 0):!1})})}}};a.fn.iconmenu=function(c){return b[c]?b[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?(a.error("Method "+c+" does not exist on jQuery.iconmenu"),void 0):b.init.apply(this,arguments)}}(jQuery),function(a,b){"use strict";var c,d=a.document,e=a.Modernizr,f=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},g="Moz Webkit O Ms".split(" "),h=function(a){var b,c=d.documentElement.style;if("string"==typeof c[a])return a;a=f(a);for(var e=0,h=g.length;h>e;e++)if(b=g[e]+a,"string"==typeof c[b])return b},i=h("transform"),j=h("transitionProperty"),k={csstransforms:function(){return!!i},csstransforms3d:function(){var a=!!h("perspective");if(a){var c=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),d="@media ("+c.join("transform-3d),(")+"modernizr)",e=b("<style>"+d+"{#modernizr{height:3px}}"+"</style>").appendTo("head"),f=b('<div id="modernizr" />').appendTo("html");a=3===f.height(),f.remove(),e.remove()}return a},csstransitions:function(){return!!j}};if(e)for(c in k)e.hasOwnProperty(c)||e.addTest(c,k[c]);else{e=a.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var l,m=" ";for(c in k)l=k[c](),e[c]=l,m+=" "+(l?"":"no-")+c;b("html").addClass(m)}if(e.csstransforms){var n=e.csstransforms3d?{translate:function(a){return"translate3d("+a[0]+"px, "+a[1]+"px, 0) "},scale:function(a){return"scale3d("+a+", "+a+", 1) "}}:{translate:function(a){return"translate("+a[0]+"px, "+a[1]+"px) "},scale:function(a){return"scale("+a+") "}},o=function(a,c,d){var e,f,g=b.data(a,"isoTransform")||{},h={},j={};h[c]=d,b.extend(g,h);for(e in g)f=g[e],j[e]=n[e](f);var k=j.translate||"",l=j.scale||"",m=k+l;b.data(a,"isoTransform",g),a.style[i]=m};b.cssNumber.scale=!0,b.cssHooks.scale={set:function(a,b){o(a,"scale",b)},get:function(a){var c=b.data(a,"isoTransform");return c&&c.scale?c.scale:1}},b.fx.step.scale=function(a){b.cssHooks.scale.set(a.elem,a.now+a.unit)},b.cssNumber.translate=!0,b.cssHooks.translate={set:function(a,b){o(a,"translate",b)},get:function(a){var c=b.data(a,"isoTransform");return c&&c.translate?c.translate:[0,0]}}}var p,q;e.csstransitions&&(p={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd",transitionProperty:"transitionEnd"}[j],q=h("transitionDuration"));var r,s=b.event;s.special.smartresize={setup:function(){b(this).bind("resize",s.special.smartresize.handler)},teardown:function(){b(this).unbind("resize",s.special.smartresize.handler)},handler:function(a,b){var c=this,d=arguments;a.type="smartresize",r&&clearTimeout(r),r=setTimeout(function(){jQuery.event.handle.apply(c,d)},"execAsap"===b?0:100)}},b.fn.smartresize=function(a){return a?this.bind("smartresize",a):this.trigger("smartresize",["execAsap"])},b.Isotope=function(a,c,d){this.element=b(c),this._create(a),this._init(d)};var t=["width","height"],u=b(a);b.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!b.browser.opera,itemPositionDataEnabled:!1},b.Isotope.prototype={_create:function(a){this.options=b.extend({},b.Isotope.settings,a),this.styleQueue=[],this.elemCount=0;var c=this.element[0].style;this.originalStyle={};var d=t.slice(0);for(var e in this.options.containerStyle)d.push(e);for(var f=0,g=d.length;g>f;f++)e=d[f],this.originalStyle[e]=c[e]||"";this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();var h={"original-order":function(a,b){return b.elemCount++,b.elemCount},random:function(){return Math.random()}};this.options.getSortData=b.extend(this.options.getSortData,h),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var i=this;setTimeout(function(){i.element.addClass(i.options.containerClass)},0),this.options.resizable&&u.bind("smartresize.isotope",function(){i.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(a){var b=this.options.itemSelector,c=b?a.filter(b).add(a.find(b)):a,d={position:"absolute"};return this.usingTransforms&&(d.left=0,d.top=0),c.css(d).addClass(this.options.itemClass),this.updateSortData(c,!0),c},_init:function(a){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(a)},option:function(a){if(b.isPlainObject(a)){this.options=b.extend(!0,this.options,a);var c;for(var d in a)c="_update"+f(d),this[c]&&this[c]()}},_updateAnimationEngine:function(){var a,b=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,"");switch(b){case"css":case"none":a=!1;break;case"jquery":a=!0;break;default:a=!e.csstransitions}this.isUsingJQueryAnimation=a,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var a=this.usingTransforms=this.options.transformsEnabled&&e.csstransforms&&e.csstransitions&&!this.isUsingJQueryAnimation;a||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=a?this._translate:this._positionAbs},_filter:function(a){var b=""===this.options.filter?"*":this.options.filter;if(!b)return a;var c=this.options.hiddenClass,d="."+c,e=a.filter(d),f=e;if("*"!==b){f=e.filter(b);var g=a.not(d).not(b).addClass(c);this.styleQueue.push({$el:g,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:f,style:this.options.visibleStyle}),f.removeClass(c),a.filter(b)},updateSortData:function(a,c){var d,e,f=this,g=this.options.getSortData;a.each(function(){d=b(this),e={};for(var a in g)e[a]=c||"original-order"!==a?g[a](d,f):b.data(this,"isotope-sort-data")[a];b.data(this,"isotope-sort-data",e)})},_sort:function(){var a=this.options.sortBy,b=this._getSorter,c=this.options.sortAscending?1:-1,d=function(d,e){var f=b(d,a),g=b(e,a);return f===g&&"original-order"!==a&&(f=b(d,"original-order"),g=b(e,"original-order")),(f>g?1:g>f?-1:0)*c};this.$filteredAtoms.sort(d)},_getSorter:function(a,c){return b.data(a,"isotope-sort-data")[c]},_translate:function(a,b){return{translate:[a,b]}},_positionAbs:function(a,b){return{left:a,top:b}},_pushPosition:function(a,b,c){b=Math.round(b+this.offset.left),c=Math.round(c+this.offset.top);var d=this.getPositionStyles(b,c);this.styleQueue.push({$el:a,style:d}),this.options.itemPositionDataEnabled&&a.data("isotope-item-position",{x:b,y:c})},layout:function(a,b){var c=this.options.layoutMode;if(this["_"+c+"Layout"](a),this.options.resizesContainer){var d=this["_"+c+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:d})}this._processStyleQueue(a,b),this.isLaidOut=!0},_processStyleQueue:function(a,c){var d,f,g,h,i=this.isLaidOut?this.isUsingJQueryAnimation?"animate":"css":"css",j=this.options.animationOptions,k=this.options.onLayout;if(f=function(a,b){b.$el[i](b.style,j)},this._isInserting&&this.isUsingJQueryAnimation)f=function(a,b){d=b.$el.hasClass("no-transition")?"css":i,b.$el[d](b.style,j)};else if(c||k||j.complete){var l=!1,m=[c,k,j.complete],n=this;if(g=!0,h=function(){if(!l){for(var b,c=0,d=m.length;d>c;c++)b=m[c],"function"==typeof b&&b.call(n.element,a);l=!0}},this.isUsingJQueryAnimation&&"animate"===i)j.complete=h,g=!1;else if(e.csstransitions){for(var o,r=0,s=this.styleQueue[0],t=s&&s.$el;!t||!t.length;){if(o=this.styleQueue[r++],!o)return;t=o.$el}var u=parseFloat(getComputedStyle(t[0])[q]);u>0&&(f=function(a,b){b.$el[i](b.style,j).one(p,h)},g=!1)}}b.each(this.styleQueue,f),g&&h(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(a){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,a)},addItems:function(a,b){var c=this._getAtoms(a);this.$allAtoms=this.$allAtoms.add(c),b&&b(c)},insert:function(a,b){this.element.append(a);var c=this;this.addItems(a,function(a){var d=c._filter(a);c._addHideAppended(d),c._sort(),c.reLayout(),c._revealAppended(d,b)})},appended:function(a,b){var c=this;this.addItems(a,function(a){c._addHideAppended(a),c.layout(a),c._revealAppended(a,b)})},_addHideAppended:function(a){this.$filteredAtoms=this.$filteredAtoms.add(a),a.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:a,style:this.options.hiddenStyle})},_revealAppended:function(a,b){var c=this;setTimeout(function(){a.removeClass("no-transition"),c.styleQueue.push({$el:a,style:c.options.visibleStyle}),c._isInserting=!1,c._processStyleQueue(a,b)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(a,b){var c=this,d=function(){c.$allAtoms=c.$allAtoms.not(a),a.remove(),b&&b.call(this.element)};a.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:a,style:this.options.hiddenStyle}),this.$filteredAtoms=this.$filteredAtoms.not(a),this._sort(),this.reLayout(d)):d()},shuffle:function(a){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(a)},destroy:function(){var a=this.usingTransforms,b=this.options;this.$allAtoms.removeClass(b.hiddenClass+" "+b.itemClass).each(function(){var b=this.style;b.position="",b.top="",b.left="",b.opacity="",a&&(b[i]="")});var c=this.element[0].style;for(var d in this.originalStyle)c[d]=this.originalStyle[d];this.element.unbind(".isotope").undelegate("."+b.hiddenClass,"click").removeClass(b.containerClass).removeData("isotope"),u.unbind(".isotope")},_getSegments:function(a){var b,c=this.options.layoutMode,d=a?"rowHeight":"columnWidth",e=a?"height":"width",g=a?"rows":"cols",h=this.element[e](),i=this.options[c]&&this.options[c][d]||this.$filteredAtoms["outer"+f(e)](!0)||h;b=Math.floor(h/i),b=Math.max(b,1),this[c][g]=b,this[c][d]=i},_checkIfSegmentsChanged:function(a){var b=this.options.layoutMode,c=a?"rows":"cols",d=this[b][c];return this._getSegments(a),this[b][c]!==d},_masonryReset:function(){this.masonry={},this._getSegments();var a=this.masonry.cols;for(this.masonry.colYs=[];a--;)this.masonry.colYs.push(0)},_masonryLayout:function(a){var c=this,d=c.masonry;a.each(function(){var a=b(this),e=Math.ceil(a.outerWidth(!0)/d.columnWidth);if(e=Math.min(e,d.cols),1===e)c._masonryPlaceBrick(a,d.colYs);else{var f,g,h=d.cols+1-e,i=[];for(g=0;h>g;g++)f=d.colYs.slice(g,g+e),i[g]=Math.max.apply(Math,f);c._masonryPlaceBrick(a,i)}})},_masonryPlaceBrick:function(a,b){for(var c=Math.min.apply(Math,b),d=0,e=0,f=b.length;f>e;e++)if(b[e]===c){d=e;break}var g=this.masonry.columnWidth*d,h=c;this._pushPosition(a,g,h);var i=c+a.outerHeight(!0),j=this.masonry.cols+1-f;for(e=0;j>e;e++)this.masonry.colYs[d+e]=i},_masonryGetContainerSize:function(){var a=Math.max.apply(Math,this.masonry.colYs);return{height:a}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(a){var c=this,d=this.element.width(),e=this.fitRows;a.each(function(){var a=b(this),f=a.outerWidth(!0),g=a.outerHeight(!0);0!==e.x&&f+e.x>d&&(e.x=0,e.y=e.height),c._pushPosition(a,e.x,e.y),e.height=Math.max(e.y+g,e.height),e.x+=f})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(a){var c=this,d=this.cellsByRow;a.each(function(){var a=b(this),e=d.index%d.cols,f=Math.floor(d.index/d.cols),g=(e+.5)*d.columnWidth-a.outerWidth(!0)/2,h=(f+.5)*d.rowHeight-a.outerHeight(!0)/2;c._pushPosition(a,g,h),d.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(a){var c=this;a.each(function(){var a=b(this);c._pushPosition(a,0,c.straightDown.y),c.straightDown.y+=a.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var a=this.masonryHorizontal.rows;for(this.masonryHorizontal.rowXs=[];a--;)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(a){var c=this,d=c.masonryHorizontal;a.each(function(){var a=b(this),e=Math.ceil(a.outerHeight(!0)/d.rowHeight);if(e=Math.min(e,d.rows),1===e)c._masonryHorizontalPlaceBrick(a,d.rowXs);else{var f,g,h=d.rows+1-e,i=[];for(g=0;h>g;g++)f=d.rowXs.slice(g,g+e),i[g]=Math.max.apply(Math,f);c._masonryHorizontalPlaceBrick(a,i)}})},_masonryHorizontalPlaceBrick:function(a,b){for(var c=Math.min.apply(Math,b),d=0,e=0,f=b.length;f>e;e++)if(b[e]===c){d=e;break}var g=c,h=this.masonryHorizontal.rowHeight*d;this._pushPosition(a,g,h);var i=c+a.outerWidth(!0),j=this.masonryHorizontal.rows+1-f;for(e=0;j>e;e++)this.masonryHorizontal.rowXs[d+e]=i},_masonryHorizontalGetContainerSize:function(){var a=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:a}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(a){var c=this,d=this.element.height(),e=this.fitColumns;a.each(function(){var a=b(this),f=a.outerWidth(!0),g=a.outerHeight(!0);0!==e.y&&g+e.y>d&&(e.x=e.width,e.y=0),c._pushPosition(a,e.x,e.y),e.width=Math.max(e.x+f,e.width),e.y+=g})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(a){var c=this,d=this.cellsByColumn;a.each(function(){var a=b(this),e=Math.floor(d.index/d.rows),f=d.index%d.rows,g=(e+.5)*d.columnWidth-a.outerWidth(!0)/2,h=(f+.5)*d.rowHeight-a.outerHeight(!0)/2;c._pushPosition(a,g,h),d.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(a){var c=this;a.each(function(){var a=b(this);c._pushPosition(a,c.straightAcross.x,0),c.straightAcross.x+=a.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},b.fn.imagesLoaded=function(a){function c(a){var e=a.target;e.src!==h&&-1===b.inArray(e,i)&&(i.push(e),0>=--g&&(setTimeout(d),f.unbind(".imagesLoaded",c)))}function d(){a.call(e,f)}var e=this,f=e.find("img").add(e.filter("img")),g=f.length,h="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",i=[];return g||d(),f.bind("load.imagesLoaded error.imagesLoaded",c).each(function(){var a=this.src;this.src=h,this.src=a}),e};var v=function(b){a.console&&a.console.error(b)};b.fn.isotope=function(a,c){if("string"==typeof a){var d=Array.prototype.slice.call(arguments,1);this.each(function(){var c=b.data(this,"isotope");if(c){if(!b.isFunction(c[a])||"_"===a.charAt(0))return v("no such method '"+a+"' for isotope instance"),void 0;c[a].apply(c,d)}else v("cannot call methods on isotope prior to initialization; attempted to call method '"+a+"'")})}else this.each(function(){var d=b.data(this,"isotope");d?(d.option(a),d._init(c)):b.data(this,"isotope",new b.Isotope(a,this,c))});return this}}(window,jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return 1>(b/=e/2)?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return 1>(b/=e/2)?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return 1>(b/=e/2)?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return 1>(b/=e/2)?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:1>(b/=e/2)?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return 1>(b/=e/2)?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),Math.abs(d)>h){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),Math.abs(d)>h){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin(2*(b*e-f)*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=1.5*.3*e),Math.abs(d)>h){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return 1>b?-.5*h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)+c:.5*h*Math.pow(2,-10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)+d+c},easeInBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),1>(b/=e/2)?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return 1/2.75>(b/=e)?7.5625*d*b*b+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return e/2>b?.5*jQuery.easing.easeInBounce(a,2*b,0,d,e)+c:.5*jQuery.easing.easeOutBounce(a,2*b-e,0,d,e)+.5*d+c}}),function(a){a.flexslider=function(b,c){var d=a(b);a.data(b,"flexslider",d),d.init=function(){function e(a){if(!d.animating&&(39==a.keyCode||37==a.keyCode)){if(39==a.keyCode)var b=d.getTarget("next");else if(37==a.keyCode)var b=d.getTarget("prev");d.canAdvance(b)&&d.flexAnimate(b,d.vars.pauseOnAction)}}function f(a){d.animating?a.preventDefault():1==a.touches.length&&(d.pause(),s=d.vertical?d.height():d.width(),u=Number(new Date),r=d.vertical?(d.currentSlide+d.cloneOffset)*d.height():(d.currentSlide+d.cloneOffset)*d.width(),p=d.vertical?a.touches[0].pageY:a.touches[0].pageX,q=d.vertical?a.touches[0].pageX:a.touches[0].pageY,d.setTransition(0),this.addEventListener("touchmove",g,!1),this.addEventListener("touchend",h,!1))}function g(a){t=d.vertical?p-a.touches[0].pageY:p-a.touches[0].pageX,v=d.vertical?Math.abs(t)<Math.abs(a.touches[0].pageX-q):Math.abs(t)<Math.abs(a.touches[0].pageY-q),v||(a.preventDefault(),"slide"==d.vars.animation&&d.transitions&&(d.vars.animationLoop||(t/=0==d.currentSlide&&0>t||d.currentSlide==d.count-1&&t>0?Math.abs(t)/s+2:1),d.args[d.prop]=d.vertical?"translate3d(0,"+(-r-t)+"px,0)":"translate3d("+(-r-t)+"px,0,0)",d.container.css(d.args)))}function h(){if(d.animating=!1,d.animatingTo==d.currentSlide&&!v&&null!=t){var a=t>0?d.getTarget("next"):d.getTarget("prev");d.canAdvance(a)&&550>Number(new Date)-u&&Math.abs(t)>20||Math.abs(t)>s/2?d.flexAnimate(a,d.vars.pauseOnAction):d.flexAnimate(d.currentSlide,d.vars.pauseOnAction)}this.removeEventListener("touchmove",g,!1),this.removeEventListener("touchend",h,!1),p=null,q=null,t=null,r=null}if(d.vars=a.extend({},a.flexslider.defaults,c),a.data(b,"flexsliderInit",!0),d.container=a(".slides",d).first(),d.slides=a(".slides:first > li",d),d.count=d.slides.length,d.animating=!1,d.currentSlide=d.vars.slideToStart,d.animatingTo=d.currentSlide,d.atEnd=0==d.currentSlide?!0:!1,d.eventType="ontouchstart"in document.documentElement?"touchstart":"click",d.cloneCount=0,d.cloneOffset=0,d.manualPause=!1,d.vertical="vertical"==d.vars.slideDirection,d.prop=d.vertical?"top":"marginLeft",d.args={},d.transitions="webkitTransition"in document.body.style,d.transitions&&(d.prop="-webkit-transform"),""!=d.vars.controlsContainer&&(d.controlsContainer=a(d.vars.controlsContainer).eq(a(".slides").index(d.container)),d.containerExists=d.controlsContainer.length>0),""!=d.vars.manualControls&&(d.manualControls=a(d.vars.manualControls,d.containerExists?d.controlsContainer:d),d.manualExists=d.manualControls.length>0),d.vars.randomize&&(d.slides.sort(function(){return Math.round(Math.random())-.5}),d.container.empty().append(d.slides)),"slide"==d.vars.animation.toLowerCase()){d.transitions&&d.setTransition(0),d.css({overflow:"hidden"}),d.vars.animationLoop&&(d.cloneCount=2,d.cloneOffset=1,d.container.append(d.slides.filter(":first").clone().addClass("clone")).prepend(d.slides.filter(":last").clone().addClass("clone"))),d.newSlides=a(".slides:first > li",d);var i=-1*(d.currentSlide+d.cloneOffset);d.vertical?(d.newSlides.css({display:"block",width:"100%","float":"left"}),d.container.height(200*(d.count+d.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){d.css({position:"relative"}).height(d.slides.filter(":first").height()),d.args[d.prop]=d.transitions?"translate3d(0,"+i*d.height()+"px,0)":i*d.height()+"px",d.container.css(d.args)},100)):(d.args[d.prop]=d.transitions?"translate3d("+i*d.width()+"px,0,0)":i*d.width()+"px",d.container.width(200*(d.count+d.cloneCount)+"%").css(d.args),setTimeout(function(){d.newSlides.width(d.width()).css({"float":"left",display:"block"})},100))}else d.transitions=!1,d.slides.css({width:"100%","float":"left",marginRight:"-100%"}).eq(d.currentSlide).fadeIn(d.vars.animationDuration);if(d.vars.controlNav){if(d.manualExists)d.controlNav=d.manualControls;else{for(var j=a('<ol class="flex-control-nav"></ol>'),k=1,l=0;d.count>l;l++)j.append("<li><a>"+k+"</a></li>"),k++;d.containerExists?(a(d.controlsContainer).append(j),d.controlNav=a(".flex-control-nav li a",d.controlsContainer)):(d.append(j),d.controlNav=a(".flex-control-nav li a",d))}d.controlNav.eq(d.currentSlide).addClass("active"),d.controlNav.bind(d.eventType,function(b){b.preventDefault(),a(this).hasClass("active")||(d.direction=d.controlNav.index(a(this))>d.currentSlide?"next":"prev",d.flexAnimate(d.controlNav.index(a(this)),d.vars.pauseOnAction))})}if(d.vars.directionNav){var m=a('<ul class="flex-direction-nav"><li><a class="prev" href="#">'+d.vars.prevText+'</a></li><li><a class="next" href="#">'+d.vars.nextText+"</a></li></ul>");d.containerExists?(a(d.controlsContainer).append(m),d.directionNav=a(".flex-direction-nav li a",d.controlsContainer)):(d.append(m),d.directionNav=a(".flex-direction-nav li a",d)),d.vars.animationLoop||(0==d.currentSlide?d.directionNav.filter(".prev").addClass("disabled"):d.currentSlide==d.count-1&&d.directionNav.filter(".next").addClass("disabled")),d.directionNav.bind(d.eventType,function(b){b.preventDefault();var c=a(this).hasClass("next")?d.getTarget("next"):d.getTarget("prev");d.canAdvance(c)&&d.flexAnimate(c,d.vars.pauseOnAction)})}if(d.vars.keyboardNav&&1==a("ul.slides").length&&a(document).bind("keyup",e),d.vars.mousewheel&&(d.mousewheelEvent=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel",d.bind(d.mousewheelEvent,function(a){a.preventDefault(),a=a?a:window.event;var b=a.detail?-1*a.detail:a.originalEvent.wheelDelta/40,c=0>b?d.getTarget("next"):d.getTarget("prev");d.canAdvance(c)&&d.flexAnimate(c,d.vars.pauseOnAction)})),d.vars.slideshow&&(d.vars.pauseOnHover&&d.vars.slideshow&&d.hover(function(){d.pause()},function(){d.manualPause||d.resume()}),d.animatedSlides=setInterval(d.animateSlides,d.vars.slideshowSpeed)),d.vars.pausePlay){var n=a('<div class="flex-pauseplay"><span></span></div>');d.containerExists?(d.controlsContainer.append(n),d.pausePlay=a(".flex-pauseplay span",d.controlsContainer)):(d.append(n),d.pausePlay=a(".flex-pauseplay span",d));var o=d.vars.slideshow?"pause":"play";d.pausePlay.addClass(o).text("pause"==o?d.vars.pauseText:d.vars.playText),d.pausePlay.bind(d.eventType,function(b){b.preventDefault(),a(this).hasClass("pause")?(d.pause(),d.manualPause=!0):(d.resume(),d.manualPause=!1)})}if("ontouchstart"in document.documentElement){var p,q,r,s,t,u,v=!1;d.each(function(){"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",f,!1)})}"slide"==d.vars.animation.toLowerCase()&&a(window).resize(function(){!d.animating&&d.is(":visible")&&(d.vertical?(d.height(d.slides.filter(":first").height()),d.args[d.prop]=-1*(d.currentSlide+d.cloneOffset)*d.slides.filter(":first").height()+"px",d.transitions&&(d.setTransition(0),d.args[d.prop]=d.vertical?"translate3d(0,"+d.args[d.prop]+",0)":"translate3d("+d.args[d.prop]+",0,0)"),d.container.css(d.args)):(d.newSlides.width(d.width()),d.args[d.prop]=-1*(d.currentSlide+d.cloneOffset)*d.width()+"px",d.transitions&&(d.setTransition(0),d.args[d.prop]=d.vertical?"translate3d(0,"+d.args[d.prop]+",0)":"translate3d("+d.args[d.prop]+",0,0)"),d.container.css(d.args)))}),d.vars.start(d)},d.flexAnimate=function(a,b){if(!d.animating&&d.is(":visible"))if(d.animating=!0,d.animatingTo=a,d.vars.before(d),b&&d.pause(),d.vars.controlNav&&d.controlNav.removeClass("active").eq(a).addClass("active"),d.atEnd=0==a||a==d.count-1?!0:!1,!d.vars.animationLoop&&d.vars.directionNav&&(0==a?d.directionNav.removeClass("disabled").filter(".prev").addClass("disabled"):a==d.count-1?d.directionNav.removeClass("disabled").filter(".next").addClass("disabled"):d.directionNav.removeClass("disabled")),d.vars.animationLoop||a!=d.count-1||(d.pause(),d.vars.end(d)),"slide"==d.vars.animation.toLowerCase()){var c=d.vertical?d.slides.filter(":first").height():d.slides.filter(":first").width();d.slideString=0==d.currentSlide&&a==d.count-1&&d.vars.animationLoop&&"next"!=d.direction?"0px":d.currentSlide==d.count-1&&0==a&&d.vars.animationLoop&&"prev"!=d.direction?-1*(d.count+1)*c+"px":-1*(a+d.cloneOffset)*c+"px",d.args[d.prop]=d.slideString,d.transitions?(d.setTransition(d.vars.animationDuration),d.args[d.prop]=d.vertical?"translate3d(0,"+d.slideString+",0)":"translate3d("+d.slideString+",0,0)",d.container.css(d.args).one("webkitTransitionEnd transitionend",function(){d.wrapup(c)})):d.container.animate(d.args,d.vars.animationDuration,function(){d.wrapup(c)})}else d.slides.eq(d.currentSlide).fadeOut(d.vars.animationDuration),d.slides.eq(a).fadeIn(d.vars.animationDuration,function(){d.wrapup()})},d.wrapup=function(a){"slide"==d.vars.animation&&(0==d.currentSlide&&d.animatingTo==d.count-1&&d.vars.animationLoop?(d.args[d.prop]=-1*d.count*a+"px",d.transitions&&(d.setTransition(0),d.args[d.prop]=d.vertical?"translate3d(0,"+d.args[d.prop]+",0)":"translate3d("+d.args[d.prop]+",0,0)"),d.container.css(d.args)):d.currentSlide==d.count-1&&0==d.animatingTo&&d.vars.animationLoop&&(d.args[d.prop]=-1*a+"px",d.transitions&&(d.setTransition(0),d.args[d.prop]=d.vertical?"translate3d(0,"+d.args[d.prop]+",0)":"translate3d("+d.args[d.prop]+",0,0)"),d.container.css(d.args))),d.animating=!1,d.currentSlide=d.animatingTo,d.vars.after(d)},d.animateSlides=function(){d.animating||d.flexAnimate(d.getTarget("next"))},d.pause=function(){clearInterval(d.animatedSlides),d.vars.pausePlay&&d.pausePlay.removeClass("pause").addClass("play").text(d.vars.playText)},d.resume=function(){d.animatedSlides=setInterval(d.animateSlides,d.vars.slideshowSpeed),d.vars.pausePlay&&d.pausePlay.removeClass("play").addClass("pause").text(d.vars.pauseText)},d.canAdvance=function(a){return!d.vars.animationLoop&&d.atEnd?0==d.currentSlide&&a==d.count-1&&"next"!=d.direction?!1:d.currentSlide==d.count-1&&0==a&&"next"==d.direction?!1:!0:!0},d.getTarget=function(a){return d.direction=a,"next"==a?d.currentSlide==d.count-1?0:d.currentSlide+1:0==d.currentSlide?d.count-1:d.currentSlide-1},d.setTransition=function(a){d.container.css({"-webkit-transition-duration":a/1e3+"s"})},d.init()},a.flexslider.defaults={animation:"fade",slideDirection:"horizontal",slideshow:!0,slideshowSpeed:7e3,animationDuration:600,directionNav:!0,controlNav:!0,keyboardNav:!0,mousewheel:!1,prevText:"Previous",nextText:"Next",pausePlay:!1,pauseText:"Pause",playText:"Play",randomize:!1,slideToStart:0,animationLoop:!0,pauseOnAction:!0,pauseOnHover:!1,controlsContainer:"",manualControls:"",start:function(){},before:function(){},after:function(){},end:function(){}},a.fn.flexslider=function(b){return this.each(function(){1==a(this).find(".slides li").length?a(this).find(".slides li").fadeIn(400):1!=a(this).data("flexsliderInit")&&new a.flexslider(this,b)})}}(jQuery),function(a){function b(){return url=location.href,hashtag=-1!=url.indexOf("#!")?decodeURI(url.substring(url.indexOf("#!")+2,url.length)):!1}function c(){"undefined"!=typeof theRel&&(location.hash="!"+theRel+"/"+rel_index+"/")}function d(){url=location.href,hashtag=url.indexOf("#!")?!0:!1,hashtag&&(location.hash="")}function e(a,b){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c="[\\?&]"+a+"=([^&#]*)",d=RegExp(c),e=d.exec(b);return null==e?"":e[1]}a.prettyPhoto={version:"3.1.3"},a.fn.prettyPhoto=function(f){function g(){a(".pp_loaderIcon").hide(),projectedTop=scroll_pos.scrollTop+(A/2-r.containerHeight/2),0>projectedTop&&(projectedTop=0),$ppt.fadeTo(settings.animation_speed,1),$pp_pic_holder.find(".pp_content").animate({height:r.contentHeight,width:r.contentWidth},settings.animation_speed),$pp_pic_holder.animate({top:projectedTop,left:B/2-r.containerWidth/2,width:r.containerWidth},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(r.height).width(r.width),$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed),isSet&&"image"==l(pp_images[set_position])?$pp_pic_holder.find(".pp_hoverContainer").show():$pp_pic_holder.find(".pp_hoverContainer").hide(),r.resized?a("a.pp_expand,a.pp_contract").show():a("a.pp_expand").hide(),!settings.autoplay_slideshow||x||s||a.prettyPhoto.startSlideshow(),settings.changepicturecallback(),s=!0}),p()}function h(b){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden"),$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){a(".pp_loaderIcon").show(),b()})}function i(b){b>1?a(".pp_nav").show():a(".pp_nav").hide()}function j(a,b){if(resized=!1,k(a,b),imageWidth=a,imageHeight=b,(w>B||v>A)&&doresize&&settings.allow_resize&&!z){for(resized=!0,fitting=!1;!fitting;)w>B?(imageWidth=B-200,imageHeight=b/a*imageWidth):v>A?(imageHeight=A-200,imageWidth=a/b*imageHeight):fitting=!0,v=imageHeight,w=imageWidth;k(imageWidth,imageHeight),(w>B||v>A)&&j(w,v)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(v),containerWidth:Math.floor(w)+2*settings.horizontal_padding,contentHeight:Math.floor(t),contentWidth:Math.floor(u),resized:resized}}function k(b,c){b=parseFloat(b),c=parseFloat(c),$pp_details=$pp_pic_holder.find(".pp_details"),$pp_details.width(b),detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom")),$pp_details=$pp_details.clone().addClass(settings.theme).width(b).appendTo(a("body")).css({position:"absolute",top:-1e4}),detailsHeight+=$pp_details.height(),detailsHeight=34>=detailsHeight?36:detailsHeight,a.browser.msie&&7==a.browser.version&&(detailsHeight+=8),$pp_details.remove(),$pp_title=$pp_pic_holder.find(".ppt"),$pp_title.width(b),titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom")),$pp_title=$pp_title.clone().appendTo(a("body")).css({position:"absolute",top:-1e4}),titleHeight+=$pp_title.height(),$pp_title.remove(),t=c+detailsHeight,u=b,v=t+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height(),w=b}function l(a){return a.match(/youtube\.com\/watch/i)||a.match(/youtu\.be/i)?"youtube":a.match(/vimeo\.com/i)?"vimeo":a.match(/\b.mov\b/i)?"quicktime":a.match(/\b.swf\b/i)?"flash":a.match(/\biframe=true\b/i)?"iframe":a.match(/\bajax=true\b/i)?"ajax":a.match(/\bcustom=true\b/i)?"custom":"#"==a.substr(0,1)?"inline":"image"}function m(){if(doresize&&"undefined"!=typeof $pp_pic_holder){if(scroll_pos=n(),contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width(),projectedTop=A/2+scroll_pos.scrollTop-contentHeight/2,0>projectedTop&&(projectedTop=0),contentHeight>A)return;$pp_pic_holder.css({top:projectedTop,left:B/2+scroll_pos.scrollLeft-contentwidth/2})}}function n(){return self.pageYOffset?{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}:document.documentElement&&document.documentElement.scrollTop?{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}:document.body?{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}:void 0}function o(){A=a(window).height(),B=a(window).width(),"undefined"!=typeof $pp_overlay&&$pp_overlay.height(a(document).height()).width(B)}function p(){isSet&&settings.overlay_gallery&&"image"==l(pp_images[set_position])&&settings.ie6_fallback&&(!a.browser.msie||6!=parseInt(a.browser.version))?(itemWidth=57,navWidth="facebook"==settings.theme||"pp_default"==settings.theme?50:30,itemsPerPage=Math.floor((r.containerWidth-100-navWidth)/itemWidth),itemsPerPage=pp_images.length>itemsPerPage?itemsPerPage:pp_images.length,totalPage=Math.ceil(pp_images.length/itemsPerPage)-1,0==totalPage?(navWidth=0,$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()):$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show(),galleryWidth=itemsPerPage*itemWidth,fullGalleryWidth=pp_images.length*itemWidth,$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected"),goToPage=totalPage>Math.floor(set_position/itemsPerPage)?Math.floor(set_position/itemsPerPage):totalPage,a.prettyPhoto.changeGalleryPage(goToPage),$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")):$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave")}function q(){if(settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href))),settings.markup=settings.markup.replace("{pp_social}",settings.social_tools?facebook_like_link:""),a("body").append(settings.markup),$pp_pic_holder=a(".pp_pic_holder"),$ppt=a(".ppt"),$pp_overlay=a("div.pp_overlay"),isSet&&settings.overlay_gallery){currentGalleryPage=0,toInject="";for(var b=0;pp_images.length>b;b++)pp_images[b].match(/\b(jpg|jpeg|png|gif)\b/gi)?(classname="",img_src=pp_images[b]):(classname="default",img_src=""),toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>";toInject=settings.gallery_markup.replace(/{gallery}/g,toInject),$pp_pic_holder.find("#pp_full_res").after(toInject),$pp_gallery=a(".pp_pic_holder .pp_gallery"),$pp_gallery_li=$pp_gallery.find("li"),$pp_gallery.find(".pp_arrow_next").click(function(){return a.prettyPhoto.changeGalleryPage("next"),a.prettyPhoto.stopSlideshow(),!1}),$pp_gallery.find(".pp_arrow_previous").click(function(){return a.prettyPhoto.changeGalleryPage("previous"),a.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()}),itemWidth=57,$pp_gallery_li.each(function(b){a(this).find("a").click(function(){return a.prettyPhoto.changePage(b),a.prettyPhoto.stopSlideshow(),!1})})}settings.slideshow&&($pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play"></a>'),$pp_pic_holder.find(".pp_nav .pp_play").click(function(){return a.prettyPhoto.startSlideshow(),!1})),$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme),$pp_overlay.css({opacity:0,height:a(document).height(),width:a(window).width()}).bind("click",function(){settings.modal||a.prettyPhoto.close()}),a("a.pp_close").bind("click",function(){return a.prettyPhoto.close(),!1}),a("a.pp_expand").bind("click",function(){return a(this).hasClass("pp_expand")?(a(this).removeClass("pp_expand").addClass("pp_contract"),doresize=!1):(a(this).removeClass("pp_contract").addClass("pp_expand"),doresize=!0),h(function(){a.prettyPhoto.open()}),!1}),$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){return a.prettyPhoto.changePage("previous"),a.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){return a.prettyPhoto.changePage("next"),a.prettyPhoto.stopSlideshow(),!1}),m()}f=jQuery.extend({animation_speed:"fast",slideshow:5e3,autoplay_slideshow:!1,opacity:.8,show_title:!0,allow_resize:!0,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,deeplinking:!0,overlay_gallery:!0,keyboard_shortcuts:!0,changepicturecallback:function(){},callback:function(){},ie6_fallback:!0,markup:'<div class="pp_pic_holder">       <div class="ppt">&nbsp;</div>       <div class="pp_top">        <div class="pp_left"></div>        <div class="pp_middle"></div>        <div class="pp_right"></div>       </div>       <div class="pp_content_container">        <div class="pp_left">        <div class="pp_right">         <div class="pp_content">          <div class="pp_loaderIcon"></div>          <div class="pp_fade">           <a href="#" class="pp_expand" title="Expand the image"></a>           <div class="pp_hoverContainer">            <a class="pp_next" href="#"></a>            <a class="pp_previous" href="#"></a>           </div>           <div id="pp_full_res"></div>           <div class="pp_details">            <div class="pp_nav">             <a href="#" class="pp_arrow_previous"></a>             <p class="currentTextHolder">0/0</p>             <a href="#" class="pp_arrow_next"></a>            </div>            <p class="pp_description"></p>            <div class="pp_social">{pp_social}</div>            <a class="pp_close" href="#"></a>           </div>          </div>         </div>        </div>        </div>       </div>       <div class="pp_bottom">        <div class="pp_left"></div>        <div class="pp_middle"></div>        <div class="pp_right"></div>       </div>      </div>      <div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery">         <a href="#" class="pp_arrow_previous"></a>         <div>          <ul>           {gallery}          </ul>         </div>         <a href="#" class="pp_arrow_next"></a>        </div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:""},f);var r,s,t,u,v,w,x,y=this,z=!1,A=a(window).height(),B=a(window).width();return doresize=!0,scroll_pos=n(),a(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){m(),o()}),f.keyboard_shortcuts&&a(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(b){if("undefined"!=typeof $pp_pic_holder&&$pp_pic_holder.is(":visible"))switch(b.keyCode){case 37:a.prettyPhoto.changePage("previous"),b.preventDefault();break;case 39:a.prettyPhoto.changePage("next"),b.preventDefault();break;case 27:settings.modal||a.prettyPhoto.close(),b.preventDefault()}}),a.prettyPhoto.initialize=function(){return settings=f,"pp_default"==settings.theme&&(settings.horizontal_padding=16),settings.ie6_fallback&&a.browser.msie&&6==parseInt(a.browser.version)&&(settings.theme="light_square"),theRel=a(this).attr("rel"),galleryRegExp=/\[(?:.*)\]/,isSet=galleryRegExp.exec(theRel)?!0:!1,pp_images=isSet?jQuery.map(y,function(b){return-1!=a(b).attr("rel").indexOf(theRel)?a(b).attr("href"):void 0}):a.makeArray(a(this).attr("href")),pp_titles=isSet?jQuery.map(y,function(b){return-1!=a(b).attr("rel").indexOf(theRel)?a(b).find("img").attr("alt")?a(b).find("img").attr("alt"):"":void 0}):a.makeArray(a(this).find("img").attr("alt")),pp_descriptions=isSet?jQuery.map(y,function(b){return-1!=a(b).attr("rel").indexOf(theRel)?a(b).attr("title")?a(b).attr("title"):"":void 0}):a.makeArray(a(this).attr("title")),pp_images.length>30&&(settings.overlay_gallery=!1),set_position=jQuery.inArray(a(this).attr("href"),pp_images),rel_index=isSet?set_position:a("a[rel^='"+theRel+"']").index(a(this)),q(this),settings.allow_resize&&a(window).bind("scroll.prettyphoto",function(){m()}),a.prettyPhoto.open(),!1},a.prettyPhoto.open=function(b){return"undefined"==typeof settings&&(settings=f,a.browser.msie&&6==a.browser.version&&(settings.theme="light_square"),pp_images=a.makeArray(arguments[0]),pp_titles=arguments[1]?a.makeArray(arguments[1]):a.makeArray(""),pp_descriptions=arguments[2]?a.makeArray(arguments[2]):a.makeArray(""),isSet=pp_images.length>1?!0:!1,set_position=0,q(b.target)),a.browser.msie&&6==a.browser.version&&a("select").css("visibility","hidden"),settings.hideflash&&a("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden"),i(a(pp_images).size()),a(".pp_loaderIcon").show(),settings.deeplinking&&c(),settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href)),$pp_pic_holder.find(".pp_social").html(facebook_like_link)),$ppt.is(":hidden")&&$ppt.css("opacity",0).show(),$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity),$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+a(pp_images).size()),""!=pp_descriptions[set_position]?$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position])):$pp_pic_holder.find(".pp_description").hide(),movie_width=parseFloat(e("width",pp_images[set_position]))?e("width",pp_images[set_position]):""+settings.default_width,movie_height=parseFloat(e("height",pp_images[set_position]))?e("height",pp_images[set_position]):""+settings.default_height,z=!1,-1!=movie_height.indexOf("%")&&(movie_height=parseFloat(a(window).height()*parseFloat(movie_height)/100-150),z=!0),-1!=movie_width.indexOf("%")&&(movie_width=parseFloat(a(window).width()*parseFloat(movie_width)/100-150),z=!0),$pp_pic_holder.fadeIn(function(){switch(settings.show_title&&""!=pp_titles[set_position]&&void 0!==pp_titles[set_position]?$ppt.html(unescape(pp_titles[set_position])):$ppt.html("&nbsp;"),imgPreloader="",skipInjection=!1,l(pp_images[set_position])){case"image":imgPreloader=new Image,nextImage=new Image,isSet&&a(pp_images).size()-1>set_position&&(nextImage.src=pp_images[set_position+1]),prevImage=new Image,isSet&&pp_images[set_position-1]&&(prevImage.src=pp_images[set_position-1]),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]),imgPreloader.onload=function(){r=j(imgPreloader.width,imgPreloader.height),g()},imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist."),a.prettyPhoto.close()},imgPreloader.src=pp_images[set_position];break;case"youtube":r=j(movie_width,movie_height),movie_id=e("v",pp_images[set_position]),""==movie_id&&(movie_id=pp_images[set_position].split("youtu.be/"),movie_id=movie_id[1],movie_id.indexOf("?")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("?"))),movie_id.indexOf("&")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("&")))),movie="http://www.youtube.com/embed/"+movie_id,movie+=e("rel",pp_images[set_position])?"?rel="+e("rel",pp_images[set_position]):"?rel=1",settings.autoplay&&(movie+="&autoplay=1"),toInject=settings.iframe_markup.replace(/{width}/g,r.width).replace(/{height}/g,r.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":r=j(movie_width,movie_height),movie_id=pp_images[set_position];var b=/http:\/\/(www\.)?vimeo.com\/(\d+)/,c=movie_id.match(b);movie="http://player.vimeo.com/video/"+c[2]+"?title=0&amp;byline=0&amp;portrait=0",settings.autoplay&&(movie+="&autoplay=1;"),vimeo_width=r.width+"/embed/?moog_width="+r.width,toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,r.height).replace(/{path}/g,movie);break;case"quicktime":r=j(movie_width,movie_height),r.height+=15,r.contentHeight+=15,r.containerHeight+=15,toInject=settings.quicktime_markup.replace(/{width}/g,r.width).replace(/{height}/g,r.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":r=j(movie_width,movie_height),flash_vars=pp_images[set_position],flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length),filename=pp_images[set_position],filename=filename.substring(0,filename.indexOf("?")),toInject=settings.flash_markup.replace(/{width}/g,r.width).replace(/{height}/g,r.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":r=j(movie_width,movie_height),frame_url=pp_images[set_position],frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1),toInject=settings.iframe_markup.replace(/{width}/g,r.width).replace(/{height}/g,r.height).replace(/{path}/g,frame_url);break;case"ajax":doresize=!1,r=j(movie_width,movie_height),doresize=!0,skipInjection=!0,a.get(pp_images[set_position],function(a){toInject=settings.inline_markup.replace(/{content}/g,a),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,g()});break;case"custom":r=j(movie_width,movie_height),toInject=settings.custom_markup;break;case"inline":myClone=a(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(a("body")).show(),doresize=!1,r=j(a(myClone).width(),a(myClone).height()),doresize=!0,a(myClone).remove(),toInject=settings.inline_markup.replace(/{content}/g,a(pp_images[set_position]).html())}imgPreloader||skipInjection||($pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,g())}),!1},a.prettyPhoto.changePage=function(b){currentGalleryPage=0,"previous"==b?(set_position--,0>set_position&&(set_position=a(pp_images).size()-1)):"next"==b?(set_position++,set_position>a(pp_images).size()-1&&(set_position=0)):set_position=b,rel_index=set_position,doresize||(doresize=!0),a(".pp_contract").removeClass("pp_contract").addClass("pp_expand"),h(function(){a.prettyPhoto.open()})},a.prettyPhoto.changeGalleryPage=function(a){"next"==a?(currentGalleryPage++,currentGalleryPage>totalPage&&(currentGalleryPage=0)):"previous"==a?(currentGalleryPage--,0>currentGalleryPage&&(currentGalleryPage=totalPage)):currentGalleryPage=a,slide_speed="next"==a||"previous"==a?settings.animation_speed:0,slide_to=currentGalleryPage*itemsPerPage*itemWidth,$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)},a.prettyPhoto.startSlideshow=function(){void 0===x?($pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){return a.prettyPhoto.stopSlideshow(),!1}),x=setInterval(a.prettyPhoto.startSlideshow,settings.slideshow)):a.prettyPhoto.changePage("next")},a.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){return a.prettyPhoto.startSlideshow(),!1}),clearInterval(x),x=void 0},a.prettyPhoto.close=function(){$pp_overlay.is(":animated")||(a.prettyPhoto.stopSlideshow(),$pp_pic_holder.stop().find("object,embed").css("visibility","hidden"),a("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){a(this).remove()}),$pp_overlay.fadeOut(settings.animation_speed,function(){a.browser.msie&&6==a.browser.version&&a("select").css("visibility","visible"),settings.hideflash&&a("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible"),a(this).remove(),a(window).unbind("scroll.prettyphoto"),d(),settings.callback(),doresize=!0,s=!1,delete settings}))},!pp_alreadyInitialized&&b()&&(pp_alreadyInitialized=!0,hashIndex=b(),hashRel=hashIndex,hashIndex=hashIndex.substring(hashIndex.indexOf("/")+1,hashIndex.length-1),hashRel=hashRel.substring(0,hashRel.indexOf("/")),setTimeout(function(){a("a[rel^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")},50)),this.unbind("click.prettyphoto").bind("click.prettyphoto",a.prettyPhoto.initialize)}}(jQuery);var pp_alreadyInitialized=!1;(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){a.fn.tweet=function(b){function c(a,b){if("string"==typeof a){var c=a;for(var d in b){var e=b[d];c=c.split("{"+d+"}").join(null===e?"":e)}return c}return a(b)}function d(b,c){return function(){var d=[];return this.each(function(){d.push(this.replace(b,c))}),a(d)}}function e(a){return a.replace(/</g,"&lt;").replace(/>/g,"^&gt;")}function f(a,b){return a.replace(q,function(a){for(var c=/^[a-z]+:/i.test(a)?a:"http://"+a,d=a,f=0;b.length>f;++f){var g=b[f];if(g.url==c&&g.expanded_url){c=g.expanded_url,d=g.display_url;break}}return'<a href="'+e(c)+'">'+e(d)+"</a>"})}function g(a){return Date.parse(a.replace(/^([a-z]{3})( [a-z]{3} \d\d?)(.*)( \d{4})$/i,"$1,$2$4$3"))}function h(a){var b=function(a){return parseInt(a,10)},c=new Date,d=b((c.getTime()-a)/1e3);return 1>d&&(d=0),{days:b(d/86400),hours:b(d/3600),minutes:b(d/60),seconds:b(d)}}function i(a){return a.days>2?"about "+a.days+" days ago":a.hours>24?"about a day ago":a.hours>2?"about "+a.hours+" hours ago":a.minutes>45?"about an hour ago":a.minutes>2?"about "+a.minutes+" minutes ago":a.seconds>1?"about "+a.seconds+" seconds ago":"just now"}function j(a){return a.match(/^(@([A-Za-z0-9-_]+)) .*/i)?p.auto_join_text_reply:a.match(q)?p.auto_join_text_url:a.match(/^((\w+ed)|just) .*/im)?p.auto_join_text_ed:a.match(/^(\w*ing) .*/i)?p.auto_join_text_ing:p.auto_join_text_default}function k(){var a="https:"==document.location.protocol?"https:":"http:",b=null===p.fetch?p.count:p.fetch,c="&include_entities=1&callback=?";if(p.list)return a+"//"+p.twitter_api_url+"/1/"+p.username[0]+"/lists/"+p.list+"/statuses.json?page="+p.page+"&per_page="+b+c;if(p.favorites)return a+"//"+p.twitter_api_url+"/1/favorites.json?screen_name="+p.username[0]+"&page="+p.page+"&count="+b+c;if(null===p.query&&1==p.username.length)return a+"//"+p.twitter_api_url+"/1/statuses/user_timeline.json?screen_name="+p.username[0]+"&count="+b+(p.retweets?"&include_rts=1":"")+"&page="+p.page+c;var d=p.query||"from:"+p.username.join(" OR from:");return a+"//"+p.twitter_search_url+"/search.json?&q="+encodeURIComponent(d)+"&rpp="+b+"&page="+p.page+c}function l(a,b){return b?"user"in a?a.user.profile_image_url_https:l(a,!1).replace(/^http:\/\/[a-z0-9]{1,3}\.twimg\.com\//,"https://s3.amazonaws.com/twitter_production/"):a.profile_image_url||a.user.profile_image_url}function m(b){var d={};return d.item=b,d.source=b.source,d.screen_name=b.from_user||b.user.screen_name,d.name=b.from_user_name||b.user.name,d.retweet=void 0!==b.retweeted_status,d.tweet_time=g(b.created_at),d.join_text="auto"==p.join_text?j(b.text):p.join_text,d.tweet_id=b.id_str,d.twitter_base="http://"+p.twitter_url+"/",d.user_url=d.twitter_base+d.screen_name,d.tweet_url=d.user_url+"/status/"+d.tweet_id,d.reply_url=d.twitter_base+"intent/tweet?in_reply_to="+d.tweet_id,d.retweet_url=d.twitter_base+"intent/retweet?tweet_id="+d.tweet_id,d.favorite_url=d.twitter_base+"intent/favorite?tweet_id="+d.tweet_id,d.retweeted_screen_name=d.retweet&&b.retweeted_status.user.screen_name,d.tweet_relative_time=i(h(d.tweet_time)),d.entities=b.entities?(b.entities.urls||[]).concat(b.entities.media||[]):[],d.tweet_raw_text=d.retweet?"RT @"+d.retweeted_screen_name+" "+b.retweeted_status.text:b.text,d.tweet_text=a([f(d.tweet_raw_text,d.entities)]).linkUser().linkHash()[0],d.retweeted_tweet_text=a([f(b.text,d.entities)]).linkUser().linkHash()[0],d.tweet_text_fancy=a([d.tweet_text]).makeHeart()[0],d.avatar_size=p.avatar_size,d.avatar_url=l(d.retweet?b.retweeted_status:b,"https:"===document.location.protocol),d.avatar_screen_name=d.retweet?d.retweeted_screen_name:d.screen_name,d.avatar_profile_url=d.twitter_base+d.avatar_screen_name,d.user=c('<a class="tweet_user" href="{user_url}">{screen_name}</a>',d),d.join=p.join_text?c('<span class="tweet_join">{join_text}</span>',d):"",d.avatar=d.avatar_size?c('<a class="tweet_avatar" href="{avatar_profile_url}"><img src="{avatar_url}" height="{avatar_size}" width="{avatar_size}" alt="{avatar_screen_name}\'s avatar" title="{avatar_screen_name}\'s avatar" border="0"/></a>',d):"",d.time=c('<span class="tweet_time"><a href="{tweet_url}" title="view tweet on twitter">{tweet_relative_time}</a></span>',d),d.text=c('<span class="tweet_text">{tweet_text_fancy}</span>',d),d.retweeted_text=c('<span class="tweet_text">{retweeted_tweet_text}</span>',d),d.reply_action=c('<a class="tweet_action tweet_reply" href="{reply_url}">reply</a>',d),d.retweet_action=c('<a class="tweet_action tweet_retweet" href="{retweet_url}">retweet</a>',d),d.favorite_action=c('<a class="tweet_action tweet_favorite" href="{favorite_url}">favorite</a>',d),d}function n(b,d){var e=a('<ul class="tweet_list">');e.append(a.map(d,function(a){return"<li>"+c(p.template,a)+"</li>"}).join("")).children("li:first").addClass("tweet_first").end().children("li:odd").addClass("tweet_even").end().children("li:even").addClass("tweet_odd"),a(b).empty().append(e),p.intro_text&&e.before('<p class="tweet_intro">'+p.intro_text+"</p>"),p.outro_text&&e.after('<p class="tweet_outro">'+p.outro_text+"</p>"),a(b).trigger("loaded").trigger(0===d.length?"empty":"full"),p.refresh_interval&&window.setTimeout(function(){a(b).trigger("tweet:load")},1e3*p.refresh_interval)}function o(b){var c=a('<p class="loading">'+p.loading_text+"</p>");p.loading_text&&a(b).not(":has(.tweet_list)").empty().append(c),a.getJSON(k(),function(c){var d=a.map(c.results||c,m);d=a.grep(d,p.filter).sort(p.comparator).slice(0,p.count),a(b).trigger("tweet:retrieved",[d])})}var p=a.extend({username:null,list:null,favorites:!1,query:null,avatar_size:null,count:3,fetch:null,page:1,retweets:!0,intro_text:null,outro_text:null,join_text:null,auto_join_text_default:" I said, ",auto_join_text_ed:" I ",auto_join_text_ing:" I am ",auto_join_text_reply:" I replied to ",auto_join_text_url:" I was looking at ",loading_text:null,refresh_interval:null,twitter_url:"twitter.com",twitter_api_url:"api.twitter.com",twitter_search_url:"search.twitter.com",template:"{avatar}{time}{join} {text}",comparator:function(a,b){return b.tweet_time-a.tweet_time},filter:function(){return!0}},b),q=/\b((?:https?:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/gi;return a.extend({tweet:{t:c}}),a.fn.extend({linkUser:d(/(^|[\W])@(\w+)/gi,'$1<span class="at">@</span><a href="http://'+p.twitter_url+'/$2">$2</a>'),linkHash:d(/(?:^| )[\#]+([\w\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u00ff\u0600-\u06ff]+)/gi,' <a href="http://'+p.twitter_search_url+"/search?q=&tag=$1&lang=all"+(p.username&&1==p.username.length&&!p.list?"&from="+p.username.join("%2BOR%2B"):"")+'" class="tweet_hashtag">#$1</a>'),makeHeart:d(/(&lt;)+[3]/gi,"<tt class='heart'>&#x2665;</tt>")}),this.each(function(b,c){p.username&&"string"==typeof p.username&&(p.username=[p.username]),a(c).unbind("tweet:render").unbind("tweet:retrieved").unbind("tweet:load").bind({"tweet:load":function(){o(c)},"tweet:retrieved":function(b,d){a(c).trigger("tweet:render",[d])},"tweet:render":function(b,d){n(a(c),d)}}).trigger("tweet:load")})}}),function(a){a.fn.each2===void 0&&a.fn.extend({each2:function(b){for(var c=a([0]),d=-1,e=this.length;e>++d&&(c.context=c[0]=this[d])&&b.call(c[0],d,c)!==!1;);return this}})}(jQuery),function(a,b){"use strict";function k(a,c){var f,d=0,e=c.length;if(a===b)return-1;if(a.constructor===String){for(;e>d;d+=1)if(0===a.localeCompare(c[d]))return d}else for(;e>d;d+=1)if(f=c[d],f.constructor===String){if(0===f.localeCompare(a))return d}else if(f===a)return d;return-1}function l(a,c){return a===c?!0:a===b||c===b?!1:null===a||null===c?!1:a.constructor===String?0===a.localeCompare(c):c.constructor===String?0===c.localeCompare(a):!1}function m(b,c){var d,e,f;if(null===b||1>b.length)return[];for(d=b.split(c),e=0,f=d.length;f>e;e+=1)d[e]=a.trim(d[e]);return d}function n(a){return a.outerWidth(!1)-a.width()}function o(c){var d="keyup-change-value";c.bind("keydown",function(){a.data(c,d)===b&&a.data(c,d,c.val())}),c.bind("keyup",function(){var e=a.data(c,d);e!==b&&c.val()!==e&&(a.removeData(c,d),c.trigger("keyup-change"))})}function p(c){c.bind("mousemove",function(c){var d=i;(d===b||d.x!==c.pageX||d.y!==c.pageY)&&a(c.target).trigger("mousemove-filtered",c)})}function q(a,c,d){d=d||b;var e;return function(){var b=arguments;window.clearTimeout(e),e=window.setTimeout(function(){c.apply(d,b)},a)}}function r(a){var c,b=!1;return function(){return b===!1&&(c=a(),b=!0),c}}function s(a,b){var c=q(a,function(a){b.trigger("scroll-debounced",a)});b.bind("scroll",function(a){k(a.target,b.get())>=0&&c(a)})}function t(a){a.preventDefault(),a.stopPropagation()}function u(a){a.preventDefault(),a.stopImmediatePropagation()}function v(b){if(!h){var c=b[0].currentStyle||window.getComputedStyle(b[0],null);h=a("<div></div>").css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:c.fontSize,fontFamily:c.fontFamily,fontStyle:c.fontStyle,fontWeight:c.fontWeight,letterSpacing:c.letterSpacing,textTransform:c.textTransform,whiteSpace:"nowrap"}),a("body").append(h)}return h.text(b.val()),h.width()}function w(a,c,d){var e=a.toUpperCase().indexOf(c.toUpperCase()),f=c.length;return 0>e?(d.push(a),b):(d.push(a.substring(0,e)),d.push("<span class='select2-match'>"),d.push(a.substring(e,e+f)),d.push("</span>"),d.push(a.substring(e+f,a.length)),b)}function x(b){var c,d=0,e=null,f=b.quietMillis||100;return function(g){window.clearTimeout(c),c=window.setTimeout(function(){d+=1;var c=d,f=b.data,h=b.transport||a.ajax,i=b.traditional||!1,j=b.type||"GET";f=f.call(this,g.term,g.page,g.context),null!==e&&e.abort(),e=h.call(null,{url:b.url,dataType:b.dataType,data:f,type:j,traditional:i,success:function(a){if(!(d>c)){var e=b.results(a,g.page);g.callback(e)}}})},f)}}function y(c){var e,d=c,f=function(a){return""+a.text};return a.isArray(d)||(f=d.text,a.isFunction(f)||(e=d.text,f=function(a){return a[e]}),d=d.results),function(c){var h,e=c.term,g={results:[]};return""===e?(c.callback({results:d}),b):(h=function(b,d){var g,i;if(b=b[0],b.children){g={};for(i in b)b.hasOwnProperty(i)&&(g[i]=b[i]);g.children=[],a(b.children).each2(function(a,b){h(b,g.children)}),(g.children.length||c.matcher(e,f(g)))&&d.push(g)}else c.matcher(e,f(b))&&d.push(b)},a(d).each2(function(a,b){h(b,g.results)}),c.callback(g),b)}}function z(c){return a.isFunction(c)?c:function(d){var e=d.term,f={results:[]};a(c).each(function(){var a=this.text!==b,c=a?this.text:this;(""===e||d.matcher(e,c))&&f.results.push(a?this:{id:this,text:this})}),d.callback(f)}}function A(b){if(a.isFunction(b))return!0;if(!b)return!1;throw Error("formatterName must be a function or a falsy value")}function B(b){return a.isFunction(b)?b():b}function C(b){var c=0;return a.each(b,function(a,b){b.children?c+=C(b.children):c++}),c}function D(a,c,d,e){var h,i,j,k,m,f=a,g=!1;if(!e.createSearchChoice||!e.tokenSeparators||1>e.tokenSeparators.length)return b;for(;;){for(i=-1,j=0,k=e.tokenSeparators.length;k>j&&(m=e.tokenSeparators[j],i=a.indexOf(m),!(i>=0));j++);if(0>i)break;if(h=a.substring(0,i),a=a.substring(i+m.length),h.length>0&&(h=e.createSearchChoice(h,c),h!==b&&null!==h&&e.id(h)!==b&&null!==e.id(h))){for(g=!1,j=0,k=c.length;k>j;j++)if(l(e.id(h),e.id(c[j]))){g=!0;break}g||d(h)}}return 0!=f.localeCompare(a)?a:b}function E(b,c){var d=function(){};return d.prototype=new b,d.prototype.constructor=d,d.prototype.parent=b.prototype,d.prototype=a.extend(d.prototype,c),d}if(window.Select2===b){var c,d,e,f,g,h,i,j;c={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(a){switch(a=a.which?a.which:a){case c.LEFT:case c.RIGHT:case c.UP:case c.DOWN:return!0}return!1},isControl:function(a){var b=a.which;switch(b){case c.SHIFT:case c.CTRL:case c.ALT:return!0}return a.metaKey?!0:!1},isFunctionKey:function(a){return a=a.which?a.which:a,a>=112&&123>=a}},j=a(document),g=function(){var a=1;return function(){return a++}}(),j.bind("mousemove",function(a){i={x:a.pageX,y:a.pageY}}),j.ready(function(){j.bind("mousedown touchend",function(c){var e,d=a(c.target).closest("div.select2-container").get(0),f=null;d&&(j.find("div.select2-container-active").each(function(){this!==d&&a(this).data("select2").blur()}),f=a(d).data("select2").dropdown.get(0)),d=f||a(c.target).closest("div.select2-drop").get(0),j.find("div.select2-drop-active").each(function(){this!==d&&a(this).data("select2").blur()}),d=a(c.target),e=d.attr("for"),"LABEL"===c.target.tagName&&e&&e.length>0&&(e=e.replace(/([\[\].])/g,"\\$1"),d=a("#"+e),d=d.data("select2"),d!==b&&(d.focus(),c.preventDefault()))})}),d=E(Object,{bind:function(a){var b=this;return function(){a.apply(b,arguments)}},init:function(c){var d,e,f=".select2-results";this.opts=c=this.prepareOpts(c),this.id=c.id,c.element.data("select2")!==b&&null!==c.element.data("select2")&&this.destroy(),this.enabled=!0,this.container=this.createContainer(),this.containerId="s2id_"+(c.element.attr("id")||"autogen"+g()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=r(function(){return c.element.closest("body")}),c.element.attr("class")!==b&&this.container.addClass(c.element.attr("class").replace(/validate\[[\S ]+] ?/,"")),this.container.css(B(c.containerCss)),this.container.addClass(B(c.containerCssClass)),this.opts.element.data("select2",this).hide().before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(B(c.dropdownCssClass)),this.dropdown.data("select2",this),this.results=d=this.container.find(f),this.search=e=this.container.find("input.select2-input"),e.attr("tabIndex",this.opts.element.attr("tabIndex")),this.resultsPage=0,this.context=null,this.initContainer(),this.initContainerWidth(),p(this.results),this.dropdown.delegate(f,"mousemove-filtered",this.bind(this.highlightUnderEvent)),s(80,this.results),this.dropdown.delegate(f,"scroll-debounced",this.bind(this.loadMoreIfNeeded)),a.fn.mousewheel&&d.mousewheel(function(a,b,c,e){var f=d.scrollTop();e>0&&0>=f-e?(d.scrollTop(0),t(a)):0>e&&d.get(0).scrollHeight-d.scrollTop()+e<=d.height()&&(d.scrollTop(d.get(0).scrollHeight-d.height()),t(a))}),o(e),e.bind("keyup-change",this.bind(this.updateResults)),e.bind("focus",function(){e.addClass("select2-focused")," "===e.val()&&e.val("")}),e.bind("blur",function(){e.removeClass("select2-focused")}),this.dropdown.delegate(f,"mouseup",this.bind(function(b){a(b.target).closest(".select2-result-selectable:not(.select2-disabled)").length>0?(this.highlightUnderEvent(b),this.selectHighlighted(b)):this.focusSearch(),t(b)})),this.dropdown.bind("click mouseup mousedown",function(a){a.stopPropagation()}),a.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),(c.element.is(":disabled")||c.element.is("[readonly='readonly']"))&&this.disable()},destroy:function(){var a=this.opts.element.data("select2");a!==b&&(a.container.remove(),a.dropdown.remove(),a.opts.element.removeData("select2").unbind(".select2").show())},prepareOpts:function(c){var d,e,f,g;if(d=c.element,"select"===d.get(0).tagName.toLowerCase()&&(this.select=e=c.element),e&&a.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in c)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),c=a.extend({},{populateResults:function(d,e,f){var g,k=this.opts.id,l=this;g=function(d,e,h){var i,j,m,n,o,p,q,r,s,t;for(d=c.sortResults(d,e,f),i=0,j=d.length;j>i;i+=1)m=d[i],o=m.disabled===!0,n=!o&&k(m)!==b,p=m.children&&m.children.length>0,q=a("<li></li>"),q.addClass("select2-results-dept-"+h),q.addClass("select2-result"),q.addClass(n?"select2-result-selectable":"select2-result-unselectable"),o&&q.addClass("select2-disabled"),p&&q.addClass("select2-result-with-children"),q.addClass(l.opts.formatResultCssClass(m)),r=a("<div></div>"),r.addClass("select2-result-label"),t=c.formatResult(m,r,f),t!==b&&r.html(l.opts.escapeMarkup(t)),q.append(r),p&&(s=a("<ul></ul>"),s.addClass("select2-result-sub"),g(m.children,s,h+1),q.append(s)),q.data("select2-data",m),e.append(q)},g(e,d,0)}},a.fn.select2.defaults,c),"function"!=typeof c.id&&(f=c.id,c.id=function(a){return a[f]}),e?(c.query=this.bind(function(c){var g,h,i,e={results:[],more:!1},f=c.term;i=function(a,b){var d;a.is("option")?c.matcher(f,a.text(),a)&&b.push({id:a.attr("value"),text:a.text(),element:a.get(),css:a.attr("class"),disabled:l(a.attr("disabled"),"disabled")}):a.is("optgroup")&&(d={text:a.attr("label"),children:[],element:a.get(),css:a.attr("class")},a.children().each2(function(a,b){i(b,d.children)}),d.children.length>0&&b.push(d))},g=d.children(),this.getPlaceholder()!==b&&g.length>0&&(h=g[0],""===a(h).text()&&(g=g.not(h))),g.each2(function(a,b){i(b,e.results)}),c.callback(e)}),c.id=function(a){return a.id},c.formatResultCssClass=function(a){return a.css}):"query"in c||("ajax"in c?(g=c.element.data("ajax-url"),g&&g.length>0&&(c.ajax.url=g),c.query=x(c.ajax)):"data"in c?c.query=y(c.data):"tags"in c&&(c.query=z(c.tags),c.createSearchChoice===b&&(c.createSearchChoice=function(a){return{id:a,text:a}}),c.initSelection=function(d,e){var f=[];a(m(d.val(),c.separator)).each(function(){var d=this,e=this,g=c.tags;a.isFunction(g)&&(g=g()),a(g).each(function(){return l(this.id,d)?(e=this.text,!1):b}),f.push({id:d,text:e})}),e(f)})),"function"!=typeof c.query)throw"query function not defined for Select2 "+c.element.attr("id");return c},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()}))},triggerChange:function(b){b=b||{},b=a.extend({},b,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(b),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"),this.opts.element.removeAttr("disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"),this.opts.element.attr("disabled","disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var o,p,q,b=this.container.offset(),c=this.container.outerHeight(!1),d=this.container.outerWidth(!1),e=this.dropdown.outerHeight(!1),f=a(window).scrollLeft()+document.documentElement.clientWidth,g=a(window).scrollTop()+document.documentElement.clientHeight,h=b.top+c,i=b.left,j=g>=h+e,k=b.top-e>=this.body().scrollTop(),l=this.dropdown.outerWidth(!1),m=f>=i+l,n=this.dropdown.hasClass("select2-drop-above");"static"!==this.body().css("position")&&(o=this.body().offset(),h-=o.top,i-=o.left),n?(p=!0,!k&&j&&(p=!1)):(p=!1,!j&&k&&(p=!0)),m||(i=b.left+d-l),p?(h=b.top-e,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")),q=a.extend({top:h,left:i,width:d},B(this.opts.dropdownCss)),this.dropdown.css(q)},shouldOpen:function(){var b;return this.opened()?!1:(b=a.Event("open"),this.opts.element.trigger(b),!b.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(window.setTimeout(this.bind(this.opening),1),!0):!1},opening:function(){var b=this.containerId,c=this.containerSelector,d="scroll."+b,e="resize."+b;this.container.parents().each(function(){a(this).bind(d,function(){var b=a(c);0==b.length&&a(this).unbind(d),b.select2("close")})}),window.setTimeout(function(){a(window).bind(e,function(){var b=a(c);0==b.length&&a(window).unbind(e),b.select2("close")})},10),this.clearDropdownAlignmentPreference()," "===this.search.val()&&this.search.val(""),this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.updateResults(!0),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active"),this.ensureHighlightVisible(),this.focusSearch()},close:function(){if(this.opened()){var b=this;this.container.parents().each(function(){a(this).unbind("scroll."+b.containerId)}),a(window).unbind("resize."+this.containerId),this.clearDropdownAlignmentPreference(),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.opts.element.trigger(a.Event("close"))}},clearSearch:function(){},ensureHighlightVisible:function(){var d,e,f,g,h,i,j,c=this.results;if(e=this.highlight(),!(0>e)){if(0==e)return c.scrollTop(0),b;d=c.find(".select2-result-selectable"),f=a(d[e]),g=f.offset().top+f.outerHeight(!0),e===d.length-1&&(j=c.find("li.select2-more-results"),j.length>0&&(g=j.offset().top+j.outerHeight(!0))),h=c.offset().top+c.outerHeight(!0),g>h&&c.scrollTop(c.scrollTop()+(g-h)),i=f.offset().top-c.offset().top,0>i&&"none"!=f.css("display")&&c.scrollTop(c.scrollTop()+i)}},moveHighlight:function(b){for(var c=this.results.find(".select2-result-selectable"),d=this.highlight();d>-1&&c.length>d;){d+=b;var e=a(c[d]);if(e.hasClass("select2-result-selectable")&&!e.hasClass("select2-disabled")){this.highlight(d);break}}},highlight:function(c){var d=this.results.find(".select2-result-selectable").not(".select2-disabled");return 0===arguments.length?k(d.filter(".select2-highlighted")[0],d.get()):(c>=d.length&&(c=d.length-1),0>c&&(c=0),d.removeClass("select2-highlighted"),a(d[c]).addClass("select2-highlighted"),this.ensureHighlightVisible(),b)},countSelectableResults:function(){return this.results.find(".select2-result-selectable").not(".select2-disabled").length},highlightUnderEvent:function(b){var c=a(b.target).closest(".select2-result-selectable");if(c.length>0&&!c.is(".select2-highlighted")){var d=this.results.find(".select2-result-selectable");this.highlight(d.index(c))}else 0==c.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var c,a=this.results,b=a.find("li.select2-more-results"),e=this.resultsPage+1,f=this,g=this.search.val(),h=this.context;0!==b.length&&(c=b.offset().top-a.offset().top-a.height(),0>=c&&(b.addClass("select2-active"),this.opts.query({term:g,page:e,context:h,matcher:this.opts.matcher,callback:this.bind(function(c){f.opened()&&(f.opts.populateResults.call(this,a,c.results,{term:g,page:e,context:h}),c.more===!0?(b.detach().appendTo(a).text(f.opts.formatLoadMore(e+1)),window.setTimeout(function(){f.loadMoreIfNeeded()},10)):b.remove(),f.positionDropdown(),f.resultsPage=e)})})))},tokenize:function(){},updateResults:function(c){function j(){e.scrollTop(0),d.removeClass("select2-active"),h.positionDropdown()}function k(a){e.html(h.opts.escapeMarkup(a)),j()}var g,i,d=this.search,e=this.results,f=this.opts,h=this;if(c===!0||this.showSearchInput!==!1&&this.opened()){if(d.addClass("select2-active"),f.maximumSelectionSize>=1&&(g=this.data(),a.isArray(g)&&g.length>=f.maximumSelectionSize&&A(f.formatSelectionTooBig,"formatSelectionTooBig")))return k("<li class='select2-selection-limit'>"+f.formatSelectionTooBig(f.maximumSelectionSize)+"</li>"),b;if(d.val().length<f.minimumInputLength)return A(f.formatInputTooShort,"formatInputTooShort")?k("<li class='select2-no-results'>"+f.formatInputTooShort(d.val(),f.minimumInputLength)+"</li>"):k(""),b;if(f.formatSearching()&&k("<li class='select2-searching'>"+f.formatSearching()+"</li>"),f.maximumInputLength&&d.val().length>f.maximumInputLength)return A(f.formatInputTooLong,"formatInputTooLong")?k("<li class='select2-no-results'>"+f.formatInputTooLong(d.val(),f.maximumInputLength)+"</li>"):k(""),b;i=this.tokenize(),i!=b&&null!=i&&d.val(i),this.resultsPage=1,f.query({term:d.val(),page:this.resultsPage,context:null,matcher:f.matcher,callback:this.bind(function(g){var i;if(this.opened()){if(this.context=g.context===b?null:g.context,this.opts.createSearchChoice&&""!==d.val()&&(i=this.opts.createSearchChoice.call(null,d.val(),g.results),i!==b&&null!==i&&h.id(i)!==b&&null!==h.id(i)&&0===a(g.results).filter(function(){return l(h.id(this),h.id(i))}).length&&g.results.unshift(i)),0===g.results.length&&A(f.formatNoMatches,"formatNoMatches"))return k("<li class='select2-no-results'>"+f.formatNoMatches(d.val())+"</li>"),b;e.empty(),h.opts.populateResults.call(this,e,g.results,{term:d.val(),page:this.resultsPage,context:null}),g.more===!0&&A(f.formatLoadMore,"formatLoadMore")&&(e.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(f.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(g,c),j()}})})}},cancel:function(){this.close()},blur:function(){this.close(),this.container.removeClass("select2-container-active"),this.dropdown.removeClass("select2-drop-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.opts.element.triggerHandler("blur")},focusSearch:function(){this.search.show(),this.search.focus(),window.setTimeout(this.bind(function(){this.search.show(),this.search.focus(),this.search.val(this.search.val())}),10)},selectHighlighted:function(){var a=this.highlight(),b=this.results.find(".select2-highlighted").not(".select2-disabled"),c=b.closest(".select2-result-selectable").data("select2-data");c&&(b.addClass("select2-disabled"),this.highlight(a),this.onSelect(c))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function c(){var c,d,e,f,g;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(c=this.opts.element.attr("style"),c!==b)for(d=c.split(";"),f=0,g=d.length;g>f;f+=1)if(e=d[f].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),null!==e&&e.length>=1)return e[1];return"resolve"===this.opts.width?(c=this.opts.element.css("width"),c.indexOf("%")>0?c:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return a.isFunction(this.opts.width)?this.opts.width():this.opts.width}var d=c.call(this);null!==d&&this.container.attr("style","width: "+d)}}),e=E(d,{createContainer:function(){var b=a("<div></div>",{"class":"select2-container"}).html(["    <a href='javascript:void(0)' onclick='return false;' class='select2-choice'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","    <div class='select2-drop select2-offscreen'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return b},opening:function(){this.search.show(),this.parent.opening.apply(this,arguments),this.dropdown.removeClass("select2-offscreen")},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.dropdown.removeAttr("style").addClass("select2-offscreen").insertAfter(this.selection).show())},focus:function(){this.close(),this.selection.focus()},isFocused:function(){return this.selection[0]===document.activeElement},cancel:function(){this.parent.cancel.apply(this,arguments),this.selection.focus()},initContainer:function(){var a,d=this.container,e=this.dropdown,f=!1;this.selection=a=d.find(".select2-choice"),this.search.bind("keydown",this.bind(function(a){if(this.enabled){if(a.which===c.PAGE_UP||a.which===c.PAGE_DOWN)return t(a),b;if(this.opened())switch(a.which){case c.UP:case c.DOWN:return this.moveHighlight(a.which===c.UP?-1:1),t(a),b;case c.TAB:case c.ENTER:return this.selectHighlighted(),t(a),b;case c.ESC:return this.cancel(a),t(a),b}else{if(a.which===c.TAB||c.isControl(a)||c.isFunctionKey(a)||a.which===c.ESC)return;if(this.opts.openOnEnter===!1&&a.which===c.ENTER)return;if(this.open(),a.which===c.ENTER)return}}})),this.search.bind("focus",this.bind(function(){this.selection.attr("tabIndex","-1")})),this.search.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){var a=this.opts.element.attr("tabIndex")||0;a?this.selection.attr("tabIndex",a):this.selection.removeAttr("tabIndex")}),10)})),a.delegate("abbr","mousedown",this.bind(function(a){this.enabled&&(this.clear(),u(a),this.close(),this.triggerChange(),this.selection.focus())})),a.bind("mousedown",this.bind(function(){f=!0,this.opened()?(this.close(),this.selection.focus()):this.enabled&&this.open(),f=!1})),e.bind("mousedown",this.bind(function(){this.search.focus()})),a.bind("focus",this.bind(function(){this.container.addClass("select2-container-active"),this.search.attr("tabIndex","-1")})),a.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){this.search.attr("tabIndex",this.opts.element.attr("tabIndex")||0)}),10)})),a.bind("keydown",this.bind(function(a){return this.enabled?a.which==c.DOWN||a.which==c.UP||a.which==c.ENTER&&this.opts.openOnEnter?(this.open(),t(a),b):a.which==c.DELETE||a.which==c.BACKSPACE?(this.opts.allowClear&&this.clear(),t(a),b):b:b})),a.bind("keypress",this.bind(function(a){var b=String.fromCharCode(a.which);this.search.val(b),this.open()})),this.setPlaceholder(),this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")}))},clear:function(){this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder()},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text())this.close(),this.setPlaceholder();else{var c=this;this.opts.initSelection.call(null,this.opts.element,function(a){a!==b&&null!==a&&(c.updateSelection(a),c.close(),c.setPlaceholder())})}},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments);return"select"===b.element.get(0).tagName.toLowerCase()&&(b.initSelection=function(b,c){var d=b.find(":selected");a.isFunction(c)&&c({id:d.attr("value"),text:d.text(),element:d})}),b},setPlaceholder:function(){var a=this.getPlaceholder();if(""===this.opts.element.val()&&a!==b){if(this.select&&""!==this.select.find("option:first").text())return;this.selection.find("span").html(this.opts.escapeMarkup(a)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide()}},postprocessResults:function(c,d){var e=0,f=this,g=!0;this.results.find(".select2-result-selectable").each2(function(a,c){return l(f.id(c.data("select2-data")),f.opts.element.val())?(e=a,!1):b}),this.highlight(e),d===!0&&(g=this.showSearchInput=C(c.results)>=this.opts.minimumResultsForSearch,this.dropdown.find(".select2-search")[g?"removeClass":"addClass"]("select2-search-hidden"),a(this.dropdown,this.container)[g?"addClass":"removeClass"]("select2-with-searchbox"))},onSelect:function(a){var b=this.opts.element.val();this.opts.element.val(this.id(a)),this.updateSelection(a),this.close(),this.selection.focus(),l(b,this.id(a))||this.triggerChange()},updateSelection:function(a){var d,c=this.selection.find("span");this.selection.data("select2-data",a),c.empty(),d=this.opts.formatSelection(a,c),d!==b&&c.append(this.opts.escapeMarkup(d)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==b&&this.selection.find("abbr").show()},val:function(){var a,c=null,d=this;if(0===arguments.length)return this.opts.element.val();if(a=arguments[0],this.select)this.select.val(a).find(":selected").each2(function(a,b){return c={id:b.attr("value"),text:b.text()},!1}),this.updateSelection(c),this.setPlaceholder(),this.triggerChange();else{if(this.opts.initSelection===b)throw Error("cannot call val() if initSelection() is not defined");if(!a)return this.clear(),this.triggerChange(),b;this.opts.element.val(a),this.opts.initSelection(this.opts.element,function(a){d.opts.element.val(a?d.id(a):""),d.updateSelection(a),d.setPlaceholder(),d.triggerChange()})}},clearSearch:function(){this.search.val("")},data:function(a){var c;return 0===arguments.length?(c=this.selection.data("select2-data"),c==b&&(c=null),c):(a&&""!==a?(this.opts.element.val(a?this.id(a):""),this.updateSelection(a)):this.clear(),b)}}),f=E(d,{createContainer:function(){var b=a("<div></div>",{"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi' style='display:none;'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return b},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments);return"select"===b.element.get(0).tagName.toLowerCase()&&(b.initSelection=function(b,c){var d=[];b.find(":selected").each2(function(a,b){d.push({id:b.attr("value"),text:b.text(),element:b})}),a.isFunction(c)&&c(d)}),b},initContainer:function(){var e,d=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(d),this.search.bind("keydown",this.bind(function(a){if(this.enabled){if(a.which===c.BACKSPACE&&""===this.search.val()){this.close();var d,f=e.find(".select2-search-choice-focus");if(f.length>0)return this.unselect(f.first()),this.search.width(10),t(a),b;d=e.find(".select2-search-choice:not(.select2-locked)"),d.length>0&&d.last().addClass("select2-search-choice-focus")}else e.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(a.which){case c.UP:case c.DOWN:return this.moveHighlight(a.which===c.UP?-1:1),t(a),b;case c.ENTER:case c.TAB:return this.selectHighlighted(),t(a),b;case c.ESC:return this.cancel(a),t(a),b}a.which===c.TAB||c.isControl(a)||c.isFunctionKey(a)||a.which===c.BACKSPACE||a.which===c.ESC||(this.opts.openOnEnter!==!1||a.which!==c.ENTER)&&(this.open(),(a.which===c.PAGE_UP||a.which===c.PAGE_DOWN)&&t(a))}})),this.search.bind("keyup",this.bind(this.resizeSearch)),this.search.bind("blur",this.bind(function(a){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.clearSearch(),a.stopImmediatePropagation()})),this.container.delegate(d,"mousedown",this.bind(function(b){this.enabled&&(a(b.target).closest(".select2-search-choice").length>0||(this.clearPlaceholder(),this.open(),this.focusSearch(),b.preventDefault()))})),this.container.delegate(d,"focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.search.removeAttr("disabled"))},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0))},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var c=this;this.opts.initSelection.call(null,this.opts.element,function(a){a!==b&&null!==a&&(c.updateSelection(a),c.close(),c.clearSearch())})}},clearSearch:function(){var a=this.getPlaceholder();a!==b&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(a).addClass("select2-default"),this.resizeSearch()):this.search.val(" ").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")?this.search.val("").removeClass("select2-default"):" "===this.search.val()&&this.search.val("")},opening:function(){this.parent.opening.apply(this,arguments),this.clearPlaceholder(),this.resizeSearch(),this.focusSearch()},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(b){var c=[],d=[],e=this;a(b).each(function(){0>k(e.id(this),c)&&(c.push(e.id(this)),d.push(this))}),b=d,this.selection.find(".select2-search-choice").remove(),a(b).each(function(){e.addSelectedChoice(this)}),e.postprocessResults()},tokenize:function(){var a=this.search.val();a=this.opts.tokenizer(a,this.data(),this.bind(this.onSelect),this.opts),null!=a&&a!=b&&(this.search.val(a),a.length>0&&this.open())},onSelect:function(a){this.addSelectedChoice(a),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.positionDropdown()):this.close(),this.triggerChange({added:a}),this.focusSearch()},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(c){var j,d=!c.locked,e=a("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),f=a("<li class='select2-search-choice select2-locked'><div></div></li>"),g=d?e:f,h=this.id(c),i=this.getVal();j=this.opts.formatSelection(c,g.find("div")),j!=b&&g.find("div").replaceWith("<div>"+this.opts.escapeMarkup(j)+"</div>"),d&&g.find(".select2-search-choice-close").bind("mousedown",t).bind("click dblclick",this.bind(function(b){this.enabled&&(a(b.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(a(b.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),t(b))})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),g.data("select2-data",c),g.insertBefore(this.searchContainer),i.push(h),this.setVal(i)},unselect:function(a){var c,d,b=this.getVal();if(a=a.closest(".select2-search-choice"),0===a.length)throw"Invalid argument: "+a+". Must be .select2-search-choice";c=a.data("select2-data"),d=k(this.id(c),b),d>=0&&(b.splice(d,1),this.setVal(b),this.select&&this.postprocessResults()),a.remove(),this.triggerChange({removed:c})},postprocessResults:function(){var a=this.getVal(),c=this.results.find(".select2-result-selectable"),d=this.results.find(".select2-result-with-children"),e=this;c.each2(function(b,c){var d=e.id(c.data("select2-data"));k(d,a)>=0?c.addClass("select2-disabled").removeClass("select2-result-selectable"):c.removeClass("select2-disabled").addClass("select2-result-selectable")}),d.each2(function(a,b){b.is(".select2-result-selectable")||0!=b.find(".select2-result-selectable").length?b.removeClass("select2-disabled"):b.addClass("select2-disabled")}),-1==this.highlight()&&c.each2(function(a,c){return!c.hasClass("select2-disabled")&&c.hasClass("select2-result-selectable")?(e.highlight(0),!1):b})},resizeSearch:function(){var a,b,c,d,e,f=n(this.search);a=v(this.search)+10,b=this.search.offset().left,c=this.selection.width(),d=this.selection.offset().left,e=c-(b-d)-f,a>e&&(e=c-f),40>e&&(e=c-f),0>=e&&(e=a),this.search.width(e)},getVal:function(){var a;return this.select?(a=this.select.val(),null===a?[]:a):(a=this.opts.element.val(),m(a,this.opts.separator))},setVal:function(b){var c;this.select?this.select.val(b):(c=[],a(b).each(function(){0>k(this,c)&&c.push(this)}),this.opts.element.val(0===c.length?"":c.join(this.opts.separator)))},val:function(){var c,d=[],e=this;if(0===arguments.length)return this.getVal();if(c=arguments[0],!c)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),this.triggerChange(),b;if(this.setVal(c),this.select)this.select.find(":selected").each(function(){d.push({id:a(this).attr("value"),text:a(this).text()})}),this.updateSelection(d),this.triggerChange();else{if(this.opts.initSelection===b)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(b){var c=a(b).map(e.id);e.setVal(c),e.updateSelection(b),e.clearSearch(),e.triggerChange()})}this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var b=[],c=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){b.push(c.opts.id(a(this).data("select2-data")))}),this.setVal(b),this.triggerChange()},data:function(c){var e,d=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return a(this).data("select2-data")}).get():(c||(c=[]),e=a.map(c,function(a){return d.opts.id(a)}),this.setVal(e),this.updateSelection(c),this.clearSearch(),b)}}),a.fn.select2=function(){var d,g,h,i,c=Array.prototype.slice.call(arguments,0),j=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","disable","positionDropdown","data"];return this.each(function(){if(0===c.length||"object"==typeof c[0])d=0===c.length?{}:a.extend({},c[0]),d.element=a(this),"select"===d.element.get(0).tagName.toLowerCase()?i=d.element.attr("multiple"):(i=d.multiple||!1,"tags"in d&&(d.multiple=i=!0)),g=i?new f:new e,g.init(d);else{if("string"!=typeof c[0])throw"Invalid arguments to select2 plugin: "+c;if(0>k(c[0],j))throw"Unknown method: "+c[0];if(h=b,g=a(this).data("select2"),g===b)return;if(h="container"===c[0]?g.container:g[c[0]].apply(g,c.slice(1)),h!==b)return!1}}),h===b?this:h},a.fn.select2.defaults={width:"copy",closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,b,c){var d=[];return w(a.text,c.term,d),d.join("")},formatSelection:function(a){return a?a.text:b},sortResults:function(a){return a},formatResultCssClass:function(){return b},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(a,b){var c=b-a.length;return"Please enter "+c+" more character"+(1==c?"":"s")},formatInputTooLong:function(a,b){var c=a.length-b;return"Please enter "+c+" less character"+(1==c?"":"s")},formatSelectionTooBig:function(a){return"You can only select "+a+" item"+(1==a?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(a){return a.id},matcher:function(a,b){return b.toUpperCase().indexOf(a.toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:D,escapeMarkup:function(a){return a&&"string"==typeof a?a.replace(/&/g,"&amp;"):a},blurOnChange:!1},window.Select2={query:{ajax:x,local:y,tags:z},util:{debounce:q,markMatch:w},"class":{"abstract":d,single:e,multi:f}}}}(jQuery);